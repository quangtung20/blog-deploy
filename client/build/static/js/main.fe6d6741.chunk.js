(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{105:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a(1),c=a(10),s=a(6),o=a(15),i=a(21),l=a(35),u=a(58),d=a(0);t.default=function(){var e=Object(s.c)((function(e){return e})),t=e.categories,a=e.blogsCategory,b=Object(s.b)(),j=Object(c.h)().slug,p=Object(r.useState)(""),f=Object(n.a)(p,2),m=f[0],O=f[1],h=Object(r.useState)(),x=Object(n.a)(h,2),v=x[0],g=x[1],y=Object(r.useState)(0),N=Object(n.a)(y,2),w=N[0],_=N[1],k=Object(c.f)(),C=k.location.search;Object(r.useEffect)((function(){var e=t.find((function(e){return e.name===j}));e&&O(e._id)}),[j,t]),Object(r.useEffect)((function(){if(m)if(a.every((function(e){return e.id!==m})))b(Object(o.c)(m,C));else{var e=a.find((function(e){return e.id===m}));if(!e)return;g(e.blogs),_(e.total),e.search&&k.push(e.search)}}),[m,a,b,C,k]);return v?Object(d.jsxs)("div",{className:"blogs_category",children:[Object(d.jsx)("div",{className:"show_blogs",children:v.map((function(e){return Object(d.jsx)(u.a,{blog:e},e._id)}))}),w>1&&Object(d.jsx)(l.a,{total:w,callback:function(e){var t="?page=".concat(e);b(Object(o.c)(m,t))}})]}):Object(d.jsx)(i.a,{})}},106:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a(5),c=a(1),s=a(6),o=a(38),i=a(30),l=a(0);t.default=function(){var e,t=Object(c.useState)(""),a=Object(r.a)(t,2),u=a[0],d=a[1],b=Object(c.useState)(null),j=Object(r.a)(b,2),p=j[0],f=j[1],m=Object(s.c)((function(e){return e})),O=m.auth,h=m.categories,x=Object(s.b)();Object(c.useEffect)((function(){p&&d(p.name)}),[p]);return"admin"!==(null===(e=O.user)||void 0===e?void 0:e.role)?Object(l.jsx)(i.a,{}):Object(l.jsxs)("div",{className:"category",children:[Object(l.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),O.access_token&&u){if(p){if(p.name===u)return;var t=Object(n.a)(Object(n.a)({},p),{},{name:u});x(Object(o.d)(t,O.access_token))}else x(Object(o.a)(u,O.access_token));d(""),f(null)}},children:[Object(l.jsx)("label",{htmlFor:"category",children:"Category"}),Object(l.jsxs)("div",{className:"d-flex align-items-center",children:[p&&Object(l.jsx)("i",{className:"fas fa-times me-2 text-danger",style:{cursor:"pointer"},onClick:function(){return f(null)}}),Object(l.jsx)("input",{type:"text",name:"category",id:"category",value:u,onChange:function(e){return d(e.target.value)}}),Object(l.jsx)("button",{type:"submit",children:p?"Update":"Create"})]})]}),Object(l.jsx)("div",{children:h.map((function(e){return Object(l.jsxs)("div",{className:"category_row",children:[Object(l.jsx)("p",{className:"m-0 text-capitalize",children:e.name}),Object(l.jsxs)("div",{children:[Object(l.jsx)("i",{className:"fas fa-edit mx-2",onClick:function(){return f(e)}}),Object(l.jsx)("i",{className:"fas fa-trash-alt",onClick:function(){return t=e._id,void(O.access_token&&x(Object(o.b)(t,O.access_token)));var t}})]})]},e._id)}))})]})}},107:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a(1),c=a(6),s=a(14),o=a(0);t.default=function(){var e=Object(r.useState)(""),t=Object(n.a)(e,2),a=t[0],i=t[1],l=Object(c.b)();return Object(o.jsxs)("div",{className:"my-4",style:{maxWidth:"500px"},children:[Object(o.jsx)("h2",{children:"Forgot Password?"}),Object(o.jsxs)("form",{className:"form-group",onSubmit:function(e){e.preventDefault(),l(Object(s.b)(a))},children:[Object(o.jsx)("label",{htmlFor:"account",children:"Email / Phone Number"}),Object(o.jsxs)("div",{className:"d-flex align-items-center",children:[Object(o.jsx)("input",{type:"text",className:"form-control",id:"account",name:"account",onChange:function(e){return i(e.target.value)}}),Object(o.jsxs)("button",{className:"btn btn-primary mx-2 d-flex align-items-center",type:"submit",children:[Object(o.jsx)("i",{className:"fas fa-paper-plane me-2"})," Send"]})]})]})]})}},108:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a(1),c=a(10),s=a(6),o=a(32),i=a(0);t.default=function(){var e=Object(c.h)().slug,t=Object(s.b)(),a=Object(r.useState)(""),l=Object(n.a)(a,2),u=l[0],d=l[1],b=Object(r.useState)(""),j=Object(n.a)(b,2),p=j[0],f=j[1],m=Object(r.useState)(!1),O=Object(n.a)(m,2),h=O[0],x=O[1],v=Object(r.useState)(!1),g=Object(n.a)(v,2),y=g[0],N=g[1],w=Object(r.useState)(!1),_=Object(n.a)(w,2),k=_[0],C=_[1],S=Object(c.f)();Object(r.useEffect)((function(){k&&S.push("/login")}),[k,S]);return Object(i.jsx)("div",{className:"auth_page",children:Object(i.jsxs)("form",{className:"auth_box",onSubmit:function(a){a.preventDefault(),t(Object(o.b)(u,p,e)),C(!0)},children:[Object(i.jsx)("h3",{className:"text-uppercase text-center mb-4",children:"Reset Password"}),Object(i.jsxs)("div",{className:"form-group my-2",children:[Object(i.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(i.jsxs)("div",{className:"pass",children:[Object(i.jsx)("input",{type:h?"text":"password",className:"form-control",id:"password",name:"password",value:u,onChange:function(e){return d(e.target.value)}}),Object(i.jsx)("small",{onClick:function(){return x(!h)},className:"mx-1",children:h?Object(i.jsx)("i",{className:"fs-6 bi bi-eye-slash-fill"}):Object(i.jsx)("i",{className:"bi bi-eye-fill fs-6"})})]})]}),Object(i.jsxs)("div",{className:"form-group my-2",children:[Object(i.jsx)("label",{htmlFor:"password",className:"form-label",children:"Confirm Password"}),Object(i.jsxs)("div",{className:"pass",children:[Object(i.jsx)("input",{type:y?"text":"password",className:"form-control",id:"password",name:"password",value:p,onChange:function(e){return f(e.target.value)}}),Object(i.jsx)("small",{onClick:function(){return N(!y)},className:"mx-1",children:y?Object(i.jsx)("i",{className:"fs-6 bi bi-eye-slash-fill"}):Object(i.jsx)("i",{className:"bi bi-eye-fill fs-6"})})]})]}),Object(i.jsx)("button",{type:"submit",className:"btn btn-dark w-100 mt-2",children:"Reset Password"})]})})}},109:function(e,t,a){"use strict";a.r(t);a(1);var n=a(10),r=a(57),c=a(0);t.default=function(){var e=Object(n.h)().slug;return Object(c.jsx)(r.default,{id:e})}},110:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a(1),c=a(10),s=a(9),o=a(21),i=a(33),l=a(2),u=a.n(l),d=a(7),b=a(12),j=a(6),p=a(8),f=a(60),m=a.n(f),O=(a(104),a(0)),h=[[{font:[]}],["bold","italic","underline","strike"],["blockquote","code-block","link"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}]],x=function(e){var t=e.body,a=e.setBody,n={toolbar:{container:h}};return Object(O.jsx)("div",{children:Object(O.jsx)(m.a,{theme:"snow",modules:n,placeholder:"Write somethings...",onChange:function(e){return a(e)},value:t})})},v=function(e){var t=e.callback,a=e.edit,c=e.setEdit,s=Object(r.useState)(""),o=Object(n.a)(s,2),i=o[0],l=o[1],u=Object(r.useRef)(null);Object(r.useEffect)((function(){a&&l(a.content)}),[a]);return Object(O.jsxs)("div",{children:[Object(O.jsx)(x,{body:i,setBody:l}),Object(O.jsx)("div",{ref:u,dangerouslySetInnerHTML:{__html:i},style:{display:"none"}}),Object(O.jsx)("button",{className:"btn btn-dark ms-auto d-block px-4 mt-2",onClick:function(){var e=u.current;if(!(null===e||void 0===e?void 0:e.innerText).trim())return c?c(void 0):void 0;t(i),l("")},children:a?"Update":"Send"})]})},g=function(e){var t=e.user;return Object(O.jsxs)("div",{className:"avatar_comment",children:[Object(O.jsx)("img",{src:t.avatar,alt:"avatar"}),Object(O.jsx)("small",{className:"d-block text-break",children:Object(O.jsx)(p.b,{to:"/profile/".concat(t._id),children:t.name})})]})},y=function(e){var t=e.user,a=e.reply_user;return Object(O.jsxs)("div",{className:"avatar_reply",children:[Object(O.jsx)("img",{src:t.avatar,alt:"avatar"}),Object(O.jsxs)("div",{className:"ms-1",children:[Object(O.jsx)("small",{children:Object(O.jsx)(p.b,{to:"/profile/".concat(t._id),style:{textDecoration:"none"},children:t.name})}),Object(O.jsxs)("small",{className:"reply-text",children:["Reply to ",Object(O.jsx)(p.b,{to:"/profile/".concat(null===a||void 0===a?void 0:a._id),children:null===a||void 0===a?void 0:a.name})]})]})]})},N=a(4),w=a(3),_=a(13),k=function(e,t){return function(){var a=Object(d.a)(u.a.mark((function a(n){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,4,a.next=4,Object(s.b)("comments/blog/".concat(e,"?page=").concat(t,"&limit=").concat(4));case 4:r=a.sent,n({type:_.d,payload:{data:r.data.comments,total:r.data.total}}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:w.a,payload:{errors:a.t0.response.data.msg}});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},C=function(e){var t,a,c=e.children,o=e.comment,i=e.showReply,l=e.setShowReply,p=Object(r.useState)(!1),f=Object(n.a)(p,2),m=f[0],h=f[1],x=Object(j.c)((function(e){return e})).auth,g=Object(j.b)(),y=Object(r.useState)(),k=Object(n.a)(y,2),C=k[0],S=k[1],E=function(e){var t,a;x.user&&x.access_token&&g((t=e,a=x.access_token,function(){var e=Object(d.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:t.comment_root?_.c:_.b,payload:t}),e.next=4,Object(s.a)("comment/".concat(t._id),a);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n({type:w.a,payload:{errors:e.t0.response.data.msg}});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()))},T=function(e){return Object(O.jsxs)("div",{children:[Object(O.jsx)("i",{className:"fas fa-trash-alt mx-2",onClick:function(){return E(e)}}),Object(O.jsx)("i",{className:"fas fa-edit me-2",onClick:function(){return S(e)}})]})};return Object(O.jsxs)("div",{className:"w-100",children:[C?Object(O.jsx)(v,{callback:function(e){if(x.user&&x.access_token&&C){if(e===C.content)return S(void 0);var t,a,n=Object(N.a)(Object(N.a)({},C),{},{content:e});g((t=n,a=x.access_token,function(){var e=Object(d.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:t.comment_root?_.g:_.f,payload:t}),e.next=4,Object(s.c)("comment/".concat(t._id),{content:t.content},a);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n({type:w.a,payload:{errors:e.t0.response.data.msg}});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}())),S(void 0)}},edit:C,setEdit:S}):Object(O.jsxs)("div",{className:"comment_box border  border-3",style:{borderRadius:"5px"},children:[Object(O.jsx)("div",{className:"p-2",dangerouslySetInnerHTML:{__html:o.content}}),Object(O.jsxs)("div",{className:"d-flex justify-content-between p-2",children:[Object(O.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){return h(!m)},children:m?"Cancel":"Reply"}),Object(O.jsxs)("small",{className:"d-flex pt-3",children:[Object(O.jsx)("div",{className:"comment_nav",children:o.blog_user_id===(null===(t=x.user)||void 0===t?void 0:t._id)?o.user._id===x.user._id?T(o):Object(O.jsx)("i",{className:"fas fa-trash-alt mx-2",onClick:function(){return E(o)}}):o.user._id===(null===(a=x.user)||void 0===a?void 0:a._id)&&T(o)}),Object(O.jsx)("div",{children:new Date(o.createdAt).toLocaleString()})]})]})]}),m&&Object(O.jsx)(v,{callback:function(e){if(x.user&&x.access_token){var t={user:x.user,blog_id:o.blog_id,blog_user_id:o.blog_user_id,content:e,reply_user:o.user,comment_root:o.comment_root||o._id,createdAt:(new Date).toISOString()};l([t].concat(Object(b.a)(i))),g(function(e,t){return function(){var a=Object(d.a)(u.a.mark((function a(n){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(s.d)("reply_comment",e,t);case 3:r=a.sent,n({type:_.e,payload:Object(N.a)(Object(N.a)({},r.data),{},{user:e.user,reply_user:e.reply_user})}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n({type:w.a,payload:{errors:a.t0.response.data.msg}});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}(t,x.access_token)),h(!1)}}}),c]})},S=function(e){var t=e.comment,a=Object(r.useState)([]),c=Object(n.a)(a,2),s=c[0],o=c[1],i=Object(r.useState)(2),l=Object(n.a)(i,2),u=l[0],d=l[1];return Object(r.useEffect)((function(){t.replyCM&&o(t.replyCM)}),[t.replyCM]),Object(O.jsxs)("div",{className:"my-3 d-flex",style:{opacity:t._id?1:.5,pointerEvents:t._id?"initial":"none"},children:[Object(O.jsx)(g,{user:t.user}),Object(O.jsxs)(C,{comment:t,showReply:s,setShowReply:o,children:[s.slice(0,u).map((function(e,t){return Object(O.jsxs)("div",{style:{opacity:e._id?1:.5,pointerEvents:e._id?"initial":"none"},children:[Object(O.jsx)(y,{user:e.user,reply_user:e.reply_user}),Object(O.jsx)(C,{comment:e,showReply:s,setShowReply:o})]},t)})),Object(O.jsx)("div",{style:{cursor:"pointer"},children:s.length-u>0?Object(O.jsx)("small",{style:{color:"crimson"},onClick:function(){return d(u+5)},children:"See more comments..."}):s.length>2&&Object(O.jsx)("small",{style:{color:"teal"},onClick:function(){return d(2)},children:"Hide comments..."})})]})]})},E=a(35),T=function(e){var t=e.blog,a=Object(j.c)((function(e){return e})),i=a.auth,l=a.comments,f=Object(j.b)(),m=Object(r.useState)([]),h=Object(n.a)(m,2),x=h[0],g=h[1],y=Object(r.useState)(!1),C=Object(n.a)(y,2),T=C[0],L=C[1],R=Object(c.f)();Object(r.useEffect)((function(){g(l.data)}),[l.data]);var D=Object(r.useCallback)(function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:1,L(!0),e.next=4,f(k(t,a));case 4:L(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[f]);Object(r.useEffect)((function(){if(t._id){var e=R.location.search.slice(6)||1;D(t._id,e)}}),[t._id,D,R]);return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{className:"text-center my-3 text-capitalize fs-1",style:{color:"#ff7a00"},children:t.title}),Object(O.jsxs)("div",{className:"text-end fst-italic mb-2",style:{color:"teal"},children:[Object(O.jsx)("small",{children:"string"!==typeof t.user&&"By: ".concat(t.user.name)}),Object(O.jsx)("small",{className:"ms-2",children:new Date(t.createdAt).toLocaleString()})]}),Object(O.jsx)("div",{dangerouslySetInnerHTML:{__html:t.content}}),Object(O.jsx)("hr",{className:"my-1"}),Object(O.jsx)("h3",{style:{color:"#ff7a00"},children:"\u2729 Comments \u2729"}),i.user?Object(O.jsx)(v,{callback:function(e){if(i.user&&i.access_token){var a={content:e,user:i.user,blog_id:t._id,blog_user_id:t.user._id,createdAt:(new Date).toISOString()};g([a].concat(Object(b.a)(x))),f(function(e,t){return function(){var a=Object(d.a)(u.a.mark((function a(n){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(s.d)("comment",e,t);case 3:r=a.sent,n({type:_.a,payload:Object(N.a)(Object(N.a)({},r.data),{},{user:e.user})}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n({type:w.a,payload:{errors:a.t0.response.data.msg}});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}(a,i.access_token))}}}):Object(O.jsxs)("h5",{children:["Please ",Object(O.jsx)(p.b,{to:"/login?blog/".concat(t._id),children:"login"})," to comment."]}),T?Object(O.jsx)(o.a,{}):null===x||void 0===x?void 0:x.map((function(e,t){return Object(O.jsx)(S,{comment:e},t)})),l.total>1&&Object(O.jsx)(E.a,{total:l.total,callback:function(e){t._id&&D(t._id,e)}})]})};t.default=function(){var e=Object(c.h)().slug,t=Object(r.useState)(),a=Object(n.a)(t,2),l=a[0],u=a[1],d=Object(r.useState)(!1),b=Object(n.a)(d,2),j=b[0],p=b[1],f=Object(r.useState)(""),m=Object(n.a)(f,2),h=m[0],x=m[1];return Object(r.useEffect)((function(){if(e)return p(!0),Object(s.b)("blog/".concat(e)).then((function(e){u(e.data),p(!1)})).catch((function(e){x(e.response.data.msg),p(!1)})),function(){return u(void 0)}}),[e]),j?Object(O.jsx)(o.a,{}):Object(O.jsxs)("div",{className:"my-4",children:[h&&Object(i.b)(h),l&&Object(O.jsx)(T,{blog:l})]})}},111:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a(1),c=a(10),s=a(8),o=a(6),i=a(24),l=a(4),u=a(14),d=a(0),b=function(){var e=Object(r.useState)({account:"",password:""}),t=Object(n.a)(e,2),a=t[0],c=t[1],s=a.account,b=a.password,j=Object(r.useState)(!1),p=Object(n.a)(j,2),f=p[0],m=p[1],O=Object(o.b)(),h=function(e){var t=e.target,n=t.value,r=t.name;c(Object(l.a)(Object(l.a)({},a),{},Object(i.a)({},r,n)))};return Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),O(Object(u.d)(a))},children:[Object(d.jsxs)("div",{className:"form-group mb-3",children:[Object(d.jsx)("label",{htmlFor:"account",className:"form-label",children:"Account"}),Object(d.jsx)("input",{type:"text",className:"form-control border-2 border-secondary",id:"account",name:"account",value:s,onChange:h})]}),Object(d.jsxs)("div",{className:"form-group mb-3",children:[Object(d.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(d.jsxs)("div",{className:"pass",children:[Object(d.jsx)("input",{type:f?"text":"password",className:" form-control border-2 border-secondary",id:"password",name:"password",value:b,onChange:h}),Object(d.jsx)("small",{onClick:function(){return m(!f)},className:"mx-1",children:f?Object(d.jsx)("i",{className:"fs-6 bi bi-eye-slash-fill"}):Object(d.jsx)("i",{className:"bi bi-eye-fill fs-6"})})]})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-dark w-100 mt-1",disabled:!s||!b,children:"Login"})]})},j=function(){var e=Object(r.useState)(""),t=Object(n.a)(e,2),a=t[0],c=t[1],s=Object(o.b)();return Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s(Object(u.e)(a))},children:[Object(d.jsxs)("div",{className:"form-group mb-3",children:[Object(d.jsx)("label",{htmlFor:"phone",className:"form-label",children:"Phone number"}),Object(d.jsx)("input",{type:"text",className:"form-control border-2 border-secondary",id:"phone",value:a,onChange:function(e){return c(e.target.value)},placeholder:"+84374481936"})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-dark w-100",disabled:!a,children:"Login"})]})},p=a(114),f=a(115),m=function(){var e=Object(o.b)();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"my-2",children:Object(d.jsx)(p.GoogleLogin,{client_id:"963922917719-2q0s1r675fd2ik0ej10i02i645gipbou.apps.googleusercontent.com",cookiepolicy:"single_host_origin",onSuccess:function(t){var a=t.getAuthResponse().id_token;e(Object(u.c)(a))}})}),Object(d.jsx)("div",{className:"my-2",children:Object(d.jsx)(f.FacebookLogin,{appId:"391546469297329",onSuccess:function(t){var a=t.authResponse,n=a.accessToken,r=a.userID;e(Object(u.a)(n,r))}})})]})};t.default=function(){var e=Object(r.useState)(!1),t=Object(n.a)(e,2),a=t[0],i=(t[1],Object(c.f)()),l=Object(o.c)((function(e){return e})).auth;return Object(r.useEffect)((function(){if(l.access_token){var e=i.location.search.replace("?","/");return i.push(e)}}),[l.access_token,i]),Object(d.jsx)("div",{className:"auth_page",children:Object(d.jsxs)("div",{className:"auth_box",children:[Object(d.jsx)("h3",{className:"text-uppercase text-center mb-4",children:"Login"}),a?Object(d.jsx)(j,{}):Object(d.jsx)(b,{}),Object(d.jsx)("small",{className:"row my-2 text-primary fw-bold",style:{cursor:"pointer"},children:Object(d.jsx)("span",{className:"col-6",children:Object(d.jsx)(s.b,{to:"/forgot_password",children:"Forgot password?"})})}),Object(d.jsx)("p",{className:"fw-bold text-center",children:"Or Login With"}),Object(d.jsx)(m,{}),Object(d.jsxs)("p",{className:"mt-4",children:["If you don't have an account? ",Object(d.jsx)(s.b,{to:"/register".concat(i.location.search),style:{color:"crimson"},className:"fw-bold",children:"Register Now"})]})]})})}},112:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a(1),c=a(10),s=a(6),o=a(24),i=a(4),l=a(30),u=a(32),d=a(0),b=function(){var e=Object(s.c)((function(e){return e})).auth,t=Object(s.b)(),a=Object(r.useState)({name:"",account:"",avatar:"",password:"",cf_password:""}),c=Object(n.a)(a,2),b=c[0],j=c[1],p=Object(r.useState)(!1),f=Object(n.a)(p,2),m=f[0],O=f[1],h=Object(r.useState)(!1),x=Object(n.a)(h,2),v=x[0],g=(x[1],function(e){var t=e.target,a=t.name,n=t.value;j(Object(i.a)(Object(i.a)({},b),{},Object(o.a)({},a,n)))}),y=b.name,N=b.avatar,w=b.password,_=b.cf_password;return e.user?Object(d.jsxs)("form",{className:"profile_info",onSubmit:function(a){a.preventDefault(),(N||y)&&t(Object(u.c)(N,y,e)),w&&e.access_token&&t(Object(u.b)(w,_,e.access_token))},children:[Object(d.jsxs)("div",{className:"info_avatar",children:[Object(d.jsx)("img",{src:N?URL.createObjectURL(N):e.user.avatar,alt:"avatar"}),Object(d.jsxs)("span",{children:[Object(d.jsx)("i",{className:"fas fa-camera"}),Object(d.jsx)("p",{children:"Change"}),Object(d.jsx)("input",{type:"file",accept:"image/*",name:"file",id:"file_up",onChange:function(e){var t=e.target.files;if(t){var a=t[0];j(Object(i.a)(Object(i.a)({},b),{},{avatar:a}))}}})]})]}),Object(d.jsxs)("div",{className:"form-group my-3",children:[Object(d.jsx)("label",{htmlFor:"name",children:"Name"}),Object(d.jsx)("input",{type:"text",className:"form-control border-2 border-secondary",id:"name",name:"name",defaultValue:e.user.name,onChange:g})]}),Object(d.jsxs)("div",{className:"form-group my-3",children:[Object(d.jsx)("label",{htmlFor:"account",children:"Account"}),Object(d.jsx)("input",{type:"text",className:"form-control border-2 border-secondary",id:"account",name:"account",defaultValue:e.user.account,onChange:g,disabled:!0})]}),"register"!==e.user.type&&Object(d.jsxs)("small",{className:"text-danger",children:["* Quick login account with ",e.user.type," can't use this function *"]}),Object(d.jsxs)("div",{className:"form-group my-3",children:[Object(d.jsx)("label",{htmlFor:"password",children:"Password"}),Object(d.jsxs)("div",{className:"pass",children:[Object(d.jsx)("input",{type:m?"text":"password",className:"form-control border-2 border-secondary",id:"password",name:"password",value:w,onChange:g,disabled:"register"!==e.user.type}),Object(d.jsx)("small",{onClick:function(){return O(!m)},className:"mx-1",children:m?Object(d.jsx)("i",{className:"fs-6 bi bi-eye-slash-fill"}):Object(d.jsx)("i",{className:"bi bi-eye-fill fs-6"})})]})]}),Object(d.jsxs)("div",{className:"form-group my-3",children:[Object(d.jsx)("label",{htmlFor:"cf_password",children:"Confirm Password"}),Object(d.jsxs)("div",{className:"pass",children:[Object(d.jsx)("input",{type:v?"text":"password",className:"form-control border-2 border-secondary",id:"cf_password",name:"cf_password",value:_,onChange:g,disabled:"register"!==e.user.type}),Object(d.jsx)("small",{onClick:function(){return O(!v)},className:"mx-1",children:v?Object(d.jsx)("i",{className:"fs-6 bi bi-eye-slash-fill"}):Object(d.jsx)("i",{className:"bi bi-eye-fill fs-6"})})]})]}),Object(d.jsx)("button",{className:"btn btn-dark w-100",type:"submit",children:"Update"})]}):Object(d.jsx)(l.a,{})},j=a(21),p=function(e){var t=e.id,a=Object(r.useState)(),c=Object(n.a)(a,2),o=c[0],i=c[1],l=Object(s.c)((function(e){return e})).otherInfo,b=Object(s.b)();return Object(r.useEffect)((function(){if(t)if(l.every((function(e){return e._id!==t})))b(Object(u.a)(t));else{var e=l.find((function(e){return e._id===t}));e&&i(e)}}),[t,l,b]),o?Object(d.jsxs)("div",{className:"profile_info text-center rounded",children:[Object(d.jsx)("div",{className:"info_avatar",children:Object(d.jsx)("img",{src:o.avatar,alt:"avatar"})}),Object(d.jsx)("h5",{className:"text-uppercase text-danger",children:o.role}),Object(d.jsxs)("div",{children:["Name: ",Object(d.jsx)("span",{className:"text-info",children:o.name})]}),Object(d.jsxs)("div",{children:["Account",Object(d.jsxs)("span",{className:"text-info",children:[": ",o.account]})]}),Object(d.jsxs)("div",{children:["Join Date: ",Object(d.jsx)("span",{style:{color:"#ffc107"},children:new Date(o.createdAt).toLocaleString()})]})]}):Object(d.jsx)(j.a,{})},f=a(15),m=a(36),O=a(35),h=function(){var e=Object(s.c)((function(e){return e})).blogsUser,t=Object(s.b)(),a=Object(c.h)().slug,o=Object(r.useState)(),i=Object(n.a)(o,2),l=i[0],u=i[1],b=Object(r.useState)(0),p=Object(n.a)(b,2),h=p[0],x=p[1],v=Object(c.f)(),g=v.location.search;Object(r.useEffect)((function(){if(a)if(e.every((function(e){return e.id!==a})))t(Object(f.d)(a,g));else{var n=e.find((function(e){return e.id===a}));if(!n)return;u(n.blogs),x(n.total),n.search&&v.push(n.search)}}),[a,e,t,g,v]);return l?0===l.length&&h<1?Object(d.jsx)("h3",{className:"text-center",children:"No Blogs"}):Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:l.map((function(e){return Object(d.jsx)(m.a,{blog:e},e._id)}))}),Object(d.jsx)("div",{children:Object(d.jsx)(O.a,{total:h,callback:function(e){var n="?page=".concat(e);t(Object(f.d)(a,n))}})})]}):Object(d.jsx)(j.a,{})};t.default=function(){var e,t=Object(r.useState)(!1),a=Object(n.a)(t,2),o=(a[0],a[1],Object(c.h)().slug),i=Object(s.c)((function(e){return e})).auth;return Object(d.jsxs)("div",{className:"row my-3",children:[Object(d.jsx)("div",{className:"col-md-5 mb-3",children:(null===(e=i.user)||void 0===e?void 0:e._id)===o?Object(d.jsx)(b,{}):Object(d.jsx)(p,{id:o})}),Object(d.jsx)("div",{className:"col-md-7",children:Object(d.jsx)(h,{})})]})}},113:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(10),c=a(8),s=a(24),o=a(4),i=a(5),l=a(6),u=a(14),d=a(0),b=function(){var e=Object(n.useState)({name:"",account:"",password:"",cf_password:""}),t=Object(i.a)(e,2),a=t[0],r=t[1],c=a.name,b=a.account,j=a.password,p=a.cf_password,f=Object(n.useState)(!1),m=Object(i.a)(f,2),O=m[0],h=m[1],x=Object(n.useState)(!1),v=Object(i.a)(x,2),g=v[0],y=v[1],N=Object(l.b)(),w=function(e){var t=e.target,n=t.value,c=t.name;r(Object(o.a)(Object(o.a)({},a),{},Object(s.a)({},c,n)))};return Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),N(Object(u.h)(a))},children:[Object(d.jsxs)("div",{className:"form-group mb-3",children:[Object(d.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),Object(d.jsx)("input",{type:"text",className:"form-control border-2 border-secondary",id:"name",name:"name",value:c,onChange:w,placeholder:"Your name is up to 20 chars."})]}),Object(d.jsxs)("div",{className:"form-group mb-3",children:[Object(d.jsx)("label",{htmlFor:"account",className:"form-label",children:"Account"}),Object(d.jsx)("input",{type:"text",className:"form-control border-2 border-secondary",id:"account",name:"account",value:b,onChange:w,placeholder:"Example@gmail.com/+84374481936"})]}),Object(d.jsxs)("div",{className:"form-group mb-3",children:[Object(d.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(d.jsxs)("div",{className:"pass",children:[Object(d.jsx)("input",{type:O?"text":"password",className:"form-control border-2 border-secondary",id:"password",name:"password",value:j,onChange:w,placeholder:"Password must be at least 6 chars."}),Object(d.jsx)("small",{onClick:function(){return h(!O)},className:"mx-1",children:O?Object(d.jsx)("i",{className:"fs-6 bi bi-eye-slash-fill"}):Object(d.jsx)("i",{className:"bi bi-eye-fill fs-6"})})]})]}),Object(d.jsxs)("div",{className:"form-group mb-3",children:[Object(d.jsx)("label",{htmlFor:"password",className:"form-label",children:"Confirm Password"}),Object(d.jsxs)("div",{className:"pass",children:[Object(d.jsx)("input",{type:g?"text":"password",className:"form-control border-2 border-secondary",id:"cf_password",name:"cf_password",value:p,onChange:w,placeholder:"Your confirm password."}),Object(d.jsx)("small",{onClick:function(){return y(!g)},className:"mx-1",children:g?Object(d.jsx)("i",{className:"fs-6 bi bi-eye-slash-fill"}):Object(d.jsx)("i",{className:"bi bi-eye-fill fs-6"})})]})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-dark w-100 my-1",children:"Register"})]})};t.default=function(){var e=Object(r.f)();return Object(d.jsx)("div",{className:"auth_page",children:Object(d.jsxs)("div",{className:"auth_box",children:[Object(d.jsx)("h3",{className:"text-uppercase text-center mb-4",children:"Register"}),Object(d.jsx)(b,{}),Object(d.jsxs)("p",{className:"mt-3",children:["Already have an account? ",Object(d.jsx)(c.b,{to:"/login".concat(e.location.search),style:{color:"crimson"},className:"fw-bold",children:"Login Now"})]})]})})}},122:function(e,t,a){},127:function(e,t,a){var n={"./":72,"./active/[slug]":83,"./active/[slug].tsx":83,"./blog/[slug]":110,"./blog/[slug].tsx":110,"./blogs/[slug]":105,"./blogs/[slug].tsx":105,"./category":106,"./category.tsx":106,"./create_blog":57,"./create_blog.tsx":57,"./forgot_password":107,"./forgot_password.tsx":107,"./index":72,"./index.tsx":72,"./login":111,"./login.tsx":111,"./profile/[slug]":112,"./profile/[slug].tsx":112,"./register":113,"./register.tsx":113,"./reset_password/[slug]":108,"./reset_password/[slug].tsx":108,"./update_blog/[slug]":109,"./update_blog/[slug].tsx":109};function r(e){var t=c(e);return a(t)}function c(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=c,e.exports=r,r.id=127},13:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"e",(function(){return c})),a.d(t,"f",(function(){return s})),a.d(t,"g",(function(){return o})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return l}));var n="CREATE_COMMENT",r="GET_COMMENTS",c="REPLY_COMMENT",s="UPDATE_COMMENT",o="UPDATE_REPLY",i="DELETE_COMMENT",l="DELETE_REPLY"},14:function(e,t,a){"use strict";a.d(t,"d",(function(){return u})),a.d(t,"h",(function(){return d})),a.d(t,"g",(function(){return b})),a.d(t,"f",(function(){return j})),a.d(t,"c",(function(){return p})),a.d(t,"a",(function(){return f})),a.d(t,"e",(function(){return m})),a.d(t,"b",(function(){return h}));var n=a(2),r=a.n(n),c=a(7),s=a(23),o=a(3),i=a(9),l=a(31),u=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:o.a,payload:{loading:!0}}),t.next=4,Object(i.d)("login",e);case 4:n=t.sent,a({type:s.a,payload:n.data}),a({type:o.a,payload:{success:n.data.msg}}),localStorage.setItem("logged","devat-channel"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:o.a,payload:{errors:t.t0.response.data.msg}});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((n=Object(l.e)(e)).errLength>0)){t.next=3;break}return t.abrupt("return",a({type:o.a,payload:{errors:n.errMsg}}));case 3:return t.prev=3,a({type:o.a,payload:{loading:!0}}),t.next=7,Object(i.d)("register",e);case 7:c=t.sent,a({type:o.a,payload:{success:c.data.msg}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),a({type:o.a,payload:{errors:t.t0.response.data.msg}});case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}()},b=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("devat-channel"===localStorage.getItem("logged")){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,t({type:o.a,payload:{loading:!0}}),e.next=7,Object(i.b)("refresh_token");case 7:a=e.sent,t({type:s.a,payload:a.data}),t({type:o.a,payload:{}}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),t({type:o.a,payload:{errors:e.t0.response.data.msg}});case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}()},j=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,localStorage.removeItem("logged"),t({type:s.a,payload:{}}),e.next=5,Object(i.b)("logout");case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:o.a,payload:{errors:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:o.a,payload:{loading:!0}}),t.next=4,Object(i.d)("google_login",{id_token:e});case 4:n=t.sent,a({type:s.a,payload:n.data}),a({type:o.a,payload:{success:n.data.msg}}),localStorage.setItem("logged","devat-channel"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:o.a,payload:{errors:t.t0.response.data.msg}});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){var c;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:o.a,payload:{loading:!0}}),a.next=4,Object(i.d)("facebook_login",{accessToken:e,userID:t});case 4:c=a.sent,n({type:s.a,payload:c.data}),n({type:o.a,payload:{success:c.data.msg}}),localStorage.setItem("logged","devat-channel"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),n({type:o.a,payload:{errors:a.t0.response.data.msg}});case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Object(l.d)(e)){t.next=3;break}return t.abrupt("return",a({type:o.a,payload:{errors:"Phone number format is incorrect."}}));case 3:return t.prev=3,a({type:o.a,payload:{loading:!0}}),t.next=7,Object(i.d)("login_sms",{phone:e});case 7:t.sent.data.valid||O(e,a),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),a({type:o.a,payload:{errors:t.t0.response.data.msg}});case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}()},O=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=prompt("Enter your code")){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,a({type:o.a,payload:{loading:!0}}),e.next=7,Object(i.d)("sms_verify",{phone:t,code:n});case 7:c=e.sent,a({type:s.a,payload:c.data}),a({type:o.a,payload:{success:c.data.msg}}),localStorage.setItem("logged","devat-channel"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),a({type:o.a,payload:{errors:e.t0.response.data.msg}}),setTimeout((function(){O(t,a)}),100);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,a){return e.apply(this,arguments)}}(),h=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:o.a,payload:{loading:!0}}),t.next=4,Object(i.d)("forgot_password",{account:e});case 4:n=t.sent,a({type:o.a,payload:{success:n.data.msg}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:o.a,payload:{errors:t.t0.response.data.msg}});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}},15:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"e",(function(){return b})),a.d(t,"c",(function(){return j})),a.d(t,"d",(function(){return p})),a.d(t,"f",(function(){return f})),a.d(t,"b",(function(){return m}));var n=a(2),r=a.n(n),c=a(4),s=a(7),o=a(28),i=a(9),l=a(3),u=a(17),d=function(e,t){return function(){var a=Object(s.a)(r.a.mark((function a(n){var s,d,b,j;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,n({type:l.a,payload:{loading:!0}}),"string"===typeof e.thumbnail){a.next=9;break}return a.next=5,Object(o.b)(e.thumbnail);case 5:d=a.sent,s=d.url,a.next=10;break;case 9:s=e.thumbnail;case 10:return b=Object(c.a)(Object(c.a)({},e),{},{thumbnail:s}),a.next=13,Object(i.d)("blog",b,t);case 13:j=a.sent,n({type:u.a,payload:j.data}),n({type:l.a,payload:{loading:!1}}),a.next=21;break;case 18:a.prev=18,a.t0=a.catch(0),n({type:l.a,payload:{errors:a.t0.response.data.msg}});case 21:case"end":return a.stop()}}),a,null,[[0,18]])})));return function(e){return a.apply(this,arguments)}}()},b=function(){return function(){var e=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:l.a,payload:{loading:!0}}),e.next=4,Object(i.b)("home/blogs");case 4:a=e.sent,t({type:u.e,payload:a.data}),t({type:l.a,payload:{loading:!1}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:l.a,payload:{errors:e.t0.response.data.msg}});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},j=function(e,t){return function(){var a=Object(s.a)(r.a.mark((function a(n){var s,o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,8,s=t||"?page=".concat(1),n({type:l.a,payload:{loading:!0}}),a.next=6,Object(i.b)("blogs/category/".concat(e).concat(s,"&limit=").concat(8));case 6:o=a.sent,n({type:u.c,payload:Object(c.a)(Object(c.a)({},o.data),{},{id:e,search:t})}),n({type:l.a,payload:{loading:!1}}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:l.a,payload:{errors:a.t0.response.data.msg}});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()},p=function(e,t){return function(){var a=Object(s.a)(r.a.mark((function a(n){var s,o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,3,s=t||"?page=".concat(1),n({type:l.a,payload:{loading:!0}}),a.next=6,Object(i.b)("blogs/user/".concat(e).concat(s,"&limit=").concat(3));case 6:o=a.sent,n({type:u.d,payload:Object(c.a)(Object(c.a)({},o.data),{},{id:e,search:t})}),n({type:l.a,payload:{loading:!1}}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:l.a,payload:{errors:a.t0.response.data.msg}});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()},f=function(e,t){return function(){var a=Object(s.a)(r.a.mark((function a(n){var s,u,d,b;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,n({type:l.a,payload:{loading:!0}}),"string"===typeof e.thumbnail){a.next=9;break}return a.next=5,Object(o.b)(e.thumbnail);case 5:u=a.sent,s=u.url,a.next=10;break;case 9:s=e.thumbnail;case 10:return d=Object(c.a)(Object(c.a)({},e),{},{thumbnail:s}),a.next=13,Object(i.e)("blog/".concat(d._id),d,t);case 13:b=a.sent,n({type:l.a,payload:{success:b.data.msg}}),a.next=20;break;case 17:a.prev=17,a.t0=a.catch(0),n({type:l.a,payload:{errors:a.t0.response.data.msg}});case 20:case"end":return a.stop()}}),a,null,[[0,17]])})));return function(e){return a.apply(this,arguments)}}()},m=function(e,t){return function(){var a=Object(s.a)(r.a.mark((function a(n){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:u.b,payload:e}),a.next=4,Object(i.a)("blog/".concat(e._id),t);case 4:a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),n({type:l.a,payload:{errors:a.t0.response.data.msg}});case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e){return a.apply(this,arguments)}}()}},17:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return o}));var n="GET_HOME_BLOGS",r="GET_BLOGS_CATEGORY_ID",c="GET_BLOGS_USER_ID",s="CREATE_BLOGS_USER_ID",o="DELETE_BLOGS_USER_ID"},21:function(e,t,a){"use strict";a(1);var n=a(0);t.a=function(){return Object(n.jsx)("div",{className:"d-flex justify-content-center my-4",children:Object(n.jsx)("div",{className:"spinner-border",role:"status",children:Object(n.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}},23:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n="AUTH"},25:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return s}));var n="CREATE_CATEGORY",r="GET_CATEGORIES",c="UPDATE_CATEGORY",s="DELETE_CATEGORY"},254:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(44),s=a.n(c),o=(a(122),a(8)),i=a(10),l=a(6),u=a(30),d=a(0),b=function(){var e=Object(i.h)(),t=e.page,n=e.slug,c="";return t&&(c=n?"".concat(t,"/[slug]"):"".concat(t)),function(e){try{return r.a.createElement(a(127)("./".concat(e)).default)}catch(t){return Object(d.jsx)(u.a,{})}}(c)},j=a(2),p=a.n(j),f=a(7),m=a(5),O=a(9),h=a(36),x=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),s=Object(m.a)(c,2),o=s[0],l=s[1],u=Object(i.g)().pathname;return Object(n.useEffect)((function(){var e=setTimeout(Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.length<2)){e.next=2;break}return e.abrupt("return",l([]));case 2:return e.prev=2,e.next=5,Object(O.b)("search/blogs?title=".concat(a));case 5:t=e.sent,l(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),400);return function(){return clearTimeout(e)}}),[a]),Object(n.useEffect)((function(){r(""),l([])}),[u]),Object(d.jsxs)("div",{className:"search position-relative me-4",style:{width:"70%"},children:[Object(d.jsx)("input",{type:"text",className:"form-control border-2 border-secondary me-2 w-100",value:a,placeholder:"Enter your search...",onChange:function(e){return r(e.target.value)}}),a.length>=2&&Object(d.jsx)("div",{className:"position-absolute pt-2 px-1 w-100 rounded border border-secondary border-2",style:{background:"#eee",zIndex:10,maxHeight:"calc(100vh - 100px)",overflow:"auto"},children:o.length?o.map((function(e){return Object(d.jsx)(h.a,{blog:e},e._id)})):Object(d.jsx)("h3",{className:"text-center",children:"No Blogs"})})]})},v=a(14),g=function(){var e,t=Object(l.c)((function(e){return e})).auth,a=Object(l.b)(),n=Object(i.g)().pathname,r=t.access_token?[{label:"Home",path:"/"},{label:"CreateBlog",path:"/create_blog"}]:[{label:"Login",path:"/login"},{label:"Register",path:"/register"}],c=function(e){if(e===n)return"active"};return Object(d.jsxs)("ul",{className:"navbar-nav mx-auto mt-2",children:[r.map((function(e,t){return Object(d.jsx)("li",{className:"nav-item ".concat(c(e.path)," ms-3"),children:Object(d.jsx)(o.b,{className:"headera nav-link fw-bold ",to:e.path,children:e.label})},t)})),"admin"===(null===(e=t.user)||void 0===e?void 0:e.role)&&Object(d.jsx)("li",{className:"nav-item ".concat(c("/category")," ms-3"),children:Object(d.jsx)(o.b,{to:"/category",className:"headera nav-link fw-bold",children:"Category"})}),t.user&&Object(d.jsxs)("li",{className:"nav-item dropdown ms-3",children:[Object(d.jsx)("span",{className:"nav-link",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(d.jsx)("img",{src:t.user.avatar,alt:"avatar",className:"avatar"})}),Object(d.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",style:{position:"absolute",left:"-20px",minWidth:"0"},children:[Object(d.jsx)("li",{children:Object(d.jsx)(o.b,{className:"dropdown-item dropdown-menu-right",to:"/profile/".concat(t.user._id),children:"Profile"})}),Object(d.jsx)("li",{children:Object(d.jsx)("hr",{className:"dropdown-divider"})}),Object(d.jsx)("li",{children:Object(d.jsx)(o.b,{className:"dropdown-item",to:"/",onClick:function(){return a(Object(v.f)())},children:"Logout"})})]})]})]})},y=function(){return Object(d.jsxs)("nav",{className:"navbar navbar-expand-lg bg-dark p-3",children:[Object(d.jsx)(o.b,{className:" navbar-brand text-light fw-bold",to:"/",children:"QT BLOG"}),Object(d.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(d.jsx)("i",{className:"bi bi-list-ul text-light"})}),Object(d.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:[Object(d.jsx)(x,{}),Object(d.jsx)(g,{})]})]})},N=function(){return Object(d.jsxs)("footer",{className:"bg-dark text-center text-white mt-10",children:[Object(d.jsxs)("div",{className:"container-fluid",children:[Object(d.jsxs)("section",{className:"bg-dark py-2",children:[Object(d.jsx)("a",{className:"btn btn-primary btn-floating m-1 border boder-light",style:{backgroundColor:"#3b5998"},href:"#!",role:"button",children:Object(d.jsx)("i",{className:"fab fa-facebook"})}),Object(d.jsx)("a",{className:"btn btn-primary btn-floating m-1 border boder-light",style:{backgroundColor:"#dd4b39"},href:"#!",role:"button",children:Object(d.jsx)("i",{className:"fab fa-google"})}),Object(d.jsx)("a",{className:"btn btn-primary btn-floating m-1 border boder-light",style:{backgroundColor:"#0082ca"},href:"#!",role:"button",children:Object(d.jsx)("i",{className:"fab fa-linkedin-in"})}),Object(d.jsx)("a",{className:"btn btn-primary btn-floating m-1 border boder-light",style:{backgroundColor:"#333333"},href:"#!",role:"button",children:Object(d.jsx)("i",{className:"fab fa-github"})})]}),Object(d.jsxs)("div",{className:"row text-md-start p-3 w-100 ",style:{backgroundColor:"#343a40",margin:"0"},children:[Object(d.jsxs)("div",{className:"col-lg-6 col-md-12 mb-4 mb-md-0",children:[Object(d.jsx)("h5",{className:"text-uppercase",style:{color:"white"},children:"About Me"}),Object(d.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Iste atque ea quis molestias. Fugiat pariatur maxime quis culpa corporis vitae repudiandae aliquam voluptatem veniam, est atque cumque eum delectus sint! Fugiat pariatur maxime quis culpa corporis vitae repudiandae aliquam voluptatem veniam, est atque cumque eum delectus sint!"})]}),Object(d.jsxs)("div",{className:"col-lg-3 col-md-6 mb-4 mb-md-0",children:[Object(d.jsx)("h5",{className:"text-uppercase",style:{color:"white"},children:"Working Time"}),Object(d.jsxs)("ul",{className:"list-unstyled mb-0",children:[Object(d.jsx)("li",{children:"T2 - T6 : 8:00 - 17:00"}),Object(d.jsx)("li",{children:"T7 - CN : 8:00 - 20:00"})]})]}),Object(d.jsxs)("div",{className:"col-lg-3 col-md-6 mb-4 mb-md-0",children:[Object(d.jsx)("h5",{className:"text-uppercase ",style:{color:"white"},children:"Contact"}),Object(d.jsxs)("ul",{className:"list-unstyled",children:[Object(d.jsx)("li",{className:"mt-1",children:"Address: 51 Luong truc dam, Hoa Minh, Lien Chieu, Da Nang"}),Object(d.jsx)("li",{className:"mt-1",children:"Email: quangtung20@gmail.com"}),Object(d.jsx)("li",{className:"mt-1",children:"Phone: +8413456789"}),Object(d.jsx)("li",{className:"mt-1",children:"Fax: +012347654"})]})]})]})]}),Object(d.jsxs)("div",{className:"text-center p-3",style:{backgroundColor:"rgba(0, 0, 0, 0.2)"},children:["\xa9 2022 Copyright:",Object(d.jsx)("strong",{children:" Quang Tung Napa Global"})]})]})},w=a(33),_=a(38),k=a(15),C=function(){var e=Object(l.b)();return Object(n.useEffect)((function(){e(Object(_.c)()),e(Object(v.g)()),e(Object(k.e)())}),[e]),Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsxs)(o.a,{children:[Object(d.jsx)(w.a,{}),Object(d.jsx)(y,{}),Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)(i.c,{children:[Object(d.jsx)(i.a,{exact:!0,path:"/",component:b}),Object(d.jsx)(i.a,{exact:!0,path:"/:page",component:b}),Object(d.jsx)(i.a,{exact:!0,path:"/:page/:slug",component:b})]})}),Object(d.jsx)(N,{})]})})},S=a(37),E=a(116),T=a(23),L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.a:return t.payload;default:return e}},R=a(3),D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.a:return t.payload;default:return e}},A=a(4),M=a(12),I=a(25),F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I.a:return[t.payload].concat(Object(M.a)(e));case I.c:return t.payload;case I.d:return e.map((function(e){return e._id===t.payload._id?Object(A.a)(Object(A.a)({},e),{},{name:t.payload.name}):e}));case I.b:return e.filter((function(e){return e._id!==t.payload}));default:return e}},P=a(17),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P.e:return t.payload;default:return e}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P.c:return e.every((function(e){return e.id!==t.payload.id}))?[].concat(Object(M.a)(e),[t.payload]):e.map((function(e){return e.id===t.payload.id?t.payload:e}));default:return e}},G=a(61),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G.a:return[].concat(Object(M.a)(e),[t.payload]);default:return e}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P.d:return e.every((function(e){return e.id!==t.payload.id}))?[].concat(Object(M.a)(e),[t.payload]):e.map((function(e){return e.id===t.payload.id?t.payload:e}));case P.a:return console.log(e),e.map((function(e){return e.id===t.payload.user._id?Object(A.a)(Object(A.a)({},e),{},{blogs:[t.payload].concat(Object(M.a)(e.blogs))}):e}));case P.b:return e.map((function(e){return e.id===t.payload.user._id?Object(A.a)(Object(A.a)({},e),{},{blogs:e.blogs.filter((function(e){return e._id!==t.payload._id}))}):e}));default:return e}},q=a(13),W={data:[],total:1},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.a:return Object(A.a)(Object(A.a)({},e),{},{data:[t.payload].concat(Object(M.a)(e.data))});case q.d:return t.payload;case q.e:return Object(A.a)(Object(A.a)({},e),{},{data:e.data.map((function(e){return e._id===t.payload.comment_root?Object(A.a)(Object(A.a)({},e),{},{replyCM:[t.payload].concat(Object(M.a)(e.replyCM))}):e}))});case q.f:return Object(A.a)(Object(A.a)({},e),{},{data:e.data.map((function(e){return e._id===t.payload._id?t.payload:e}))});case q.g:return Object(A.a)(Object(A.a)({},e),{},{data:e.data.map((function(e){var a;return e._id===t.payload.comment_root?Object(A.a)(Object(A.a)({},e),{},{replyCM:null===(a=e.replyCM)||void 0===a?void 0:a.map((function(e){return e._id===t.payload._id?t.payload:e}))}):e}))});case q.b:return Object(A.a)(Object(A.a)({},e),{},{data:e.data.filter((function(e){return e._id!==t.payload._id}))});case q.c:return Object(A.a)(Object(A.a)({},e),{},{data:e.data.map((function(e){var a;return e._id===t.payload.comment_root?Object(A.a)(Object(A.a)({},e),{},{replyCM:null===(a=e.replyCM)||void 0===a?void 0:a.filter((function(e){return e._id!==t.payload._id}))}):e}))});default:return e}},J=Object(S.combineReducers)({auth:L,alert:D,categories:F,homeBlogs:z,blogsCategory:B,otherInfo:U,blogsUser:H,comments:Y}),Q=a(117),V=Object(S.createStore)(J,Object(Q.composeWithDevTools)(Object(S.applyMiddleware)(E.a)));s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(l.a,{store:V,children:Object(d.jsx)(C,{})})}),document.getElementById("root"))},28:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return o}));var n=a(2),r=a.n(n),c=a(7),s=function(e){var t="";return e?(e.size>1048576&&(t="The largest image size is 1mb"),["image/png","image/jpeg"].includes(e.type)||(t="The image type is png / jpeg"),t):"File does not exist."},o=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t),a.append("upload_preset","xwqohnif"),a.append("cloud_name","devat-channel"),e.next=6,fetch("https://api.cloudinary.com/v1_1/devat-channel/upload",{method:"POST",body:a});case 6:return n=e.sent,e.next=9,n.json();case 9:return c=e.sent,e.abrupt("return",{public_id:c.public_id,url:c.secure_url});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},3:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n="ALERT"},30:function(e,t,a){"use strict";a(1);var n=a(0);t.a=function(){return Object(n.jsx)("div",{className:"position-relative",style:{minHeight:"calc(100vh - 70px)"},children:Object(n.jsx)("h2",{className:"position-absolute text-secondary",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:"404 | NotFound"})})}},31:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return c})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return o}));var n=function(e){var t=e.name,a=e.account,n=e.password,s=e.cf_password,o=[];t?t.length>20&&o.push("Your name is up to 20 chars long."):o.push("Please add your name."),a?c(a)||/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(a).toLowerCase())||o.push("Email or phone number format is incorrect."):o.push("Please add your email or phone number.");var i=r(n,s);return i&&o.push(i),{errMsg:o,errLength:o.length}},r=function(e,t){return e.length<6?"Password must be at least 6 chars.":e!==t?"Confirm password did not match.":void 0};function c(e){return/^[+]/g.test(e)}var s=function(e){var t=e.title,a=e.content,n=e.description,r=e.thumbnail,c=e.category,s=[];return t.trim().length<10?s.push("Title has at least 10 characters."):t.trim().length>50&&s.push("Title is up to 50 characters long."),a.trim().length<2e3&&s.push("Content has at least 2000 characters."),n.trim().length<50?s.push("Description has at least 50 characters."):n.trim().length>200&&s.push("Description is up to 200 characters long."),r||s.push("Thumbnail cannot be left blank."),c||s.push("Category cannot be left blank."),{errMsg:s,errLength:s.length}},o=function(e,t){var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(var r=0,c=a;r<c.length;r++){var s=c[r];if(e[s]!==t[s])return!1}return!0}},32:function(e,t,a){"use strict";a.d(t,"c",(function(){return j})),a.d(t,"b",(function(){return p})),a.d(t,"a",(function(){return f}));var n=a(2),r=a.n(n),c=a(4),s=a(7),o=a(23),i=a(3),l=a(28),u=a(9),d=a(31),b=a(61),j=function(e,t,a){return function(){var n=Object(s.a)(r.a.mark((function n(s){var d,b,j,p;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.access_token&&a.user){n.next=2;break}return n.abrupt("return");case 2:if(d="",n.prev=3,s({type:i.a,payload:{loading:!0}}),!e){n.next=13;break}if(!(b=Object(l.a)(e))){n.next=9;break}return n.abrupt("return",s({type:i.a,payload:{errors:b}}));case 9:return n.next=11,Object(l.b)(e);case 11:j=n.sent,d=j.url;case 13:return s({type:o.a,payload:{access_token:a.access_token,user:Object(c.a)(Object(c.a)({},a.user),{},{avatar:d||a.user.avatar,name:t||a.user.name})}}),n.next=16,Object(u.c)("user",{avatar:d||a.user.avatar,name:t||a.user.name},a.access_token);case 16:p=n.sent,s({type:i.a,payload:{success:p.data.msg}}),n.next=23;break;case 20:n.prev=20,n.t0=n.catch(3),s({type:i.a,payload:{errors:n.t0.response.data.msg}});case 23:case"end":return n.stop()}}),n,null,[[3,20]])})));return function(e){return n.apply(this,arguments)}}()},p=function(e,t,a){return function(){var n=Object(s.a)(r.a.mark((function n(c){var s,o;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(s=Object(d.a)(e,t))){n.next=3;break}return n.abrupt("return",c({type:i.a,payload:{errors:s}}));case 3:return n.prev=3,c({type:i.a,payload:{loading:!0}}),n.next=7,Object(u.c)("reset_password",{password:e},a);case 7:o=n.sent,c({type:i.a,payload:{loading:!1}}),c({type:i.a,payload:{success:o.data.msg}}),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(3),c({type:i.a,payload:{errors:n.t0.response.data.msg}});case 15:case"end":return n.stop()}}),n,null,[[3,12]])})));return function(e){return n.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:i.a,payload:{loading:!0}}),t.next=4,Object(u.b)("user/".concat(e));case 4:n=t.sent,a({type:b.a,payload:n.data}),a({type:i.a,payload:{}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:i.a,payload:{errors:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},33:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return u}));var n=a(6),r=(a(1),a(0)),c=function(){return Object(r.jsx)("div",{className:"position-fixed w-100 h-100 text-center loading",style:{background:"#0007",color:"white",top:0,left:0,zIndex:99},children:Object(r.jsxs)("svg",{width:"205",height:"250",viewBox:"0 0 40 50",children:[Object(r.jsx)("polygon",{stroke:"#fff",strokeWidth:"1",fill:"none",points:"20,1 40,40 1,40"}),Object(r.jsx)("text",{fill:"#fff",x:"5",y:"47",children:"Loading"})]})})},s=a(3),o=function(e){var t=e.title,a=e.body,c=e.bgColor,o=Object(n.b)();return Object(r.jsxs)("div",{className:"toast show position-fixed text-light ".concat(c),style:{top:"5px",right:"5px",zIndex:50,minWidth:"200px"},children:[Object(r.jsxs)("div",{className:"toast-header text-light ".concat(c),children:[Object(r.jsx)("strong",{className:"me-auto",children:t}),Object(r.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"toast","aria-label":"Close",onClick:function(){o({type:s.a,payload:{}})}})]}),Object(r.jsx)("div",{className:"toast-body",children:"string"===typeof a?a:Object(r.jsx)("ul",{children:a.map((function(e,t){return Object(r.jsx)("li",{children:e},t)}))})})]})},i=function(){var e=Object(n.c)((function(e){return e})).alert;return Object(r.jsxs)("div",{children:[e.loading&&Object(r.jsx)(c,{}),e.errors&&Object(r.jsx)(o,{title:"Errors",body:e.errors,bgColor:"bg-danger"}),e.success&&Object(r.jsx)(o,{title:"Success",body:e.success,bgColor:"bg-success"})]})},l=function(e){return Object(r.jsx)("div",{className:"errMsg",children:e})},u=function(e){return Object(r.jsx)("div",{className:"successMsg",children:e})}},35:function(e,t,a){"use strict";var n=a(12),r=a(5),c=a(1),s=a(10),o=a(0);t.a=function(e){var t=e.total,a=e.callback,i=Object(c.useState)(1),l=Object(r.a)(i,2),u=l[0],d=l[1],b=Object(n.a)(Array(t)).map((function(e,t){return t+1})),j=Object(s.f)(),p=function(e){j.push("?page=".concat(e)),a(e)};return Object(c.useEffect)((function(){var e=j.location.search.slice(6)||1;d(Number(e))}),[j.location.search]),Object(o.jsx)("nav",{"aria-label":"Page navigation example",style:{cursor:"pointer"},children:Object(o.jsxs)("ul",{className:"pagination",children:[u>1&&Object(o.jsx)("li",{className:"page-item",onClick:function(){return p(u-1)},children:Object(o.jsx)("span",{className:"page-link","aria-label":"Previous",children:Object(o.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),b.map((function(e){return Object(o.jsx)("li",{className:"page-item ".concat((t=e,t===u?"active":"")),onClick:function(){return p(e)},children:Object(o.jsx)("span",{className:"page-link",children:e})},e);var t})),u<t&&Object(o.jsx)("li",{className:"page-item",onClick:function(){return p(u+1)},children:Object(o.jsx)("span",{className:"page-link","aria-label":"Next",children:Object(o.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]})})}},36:function(e,t,a){"use strict";a(1);var n=a(6),r=a(10),c=a(8),s=a(15),o=a(0);t.a=function(e){var t,a,i,l,u=e.blog,d=e.preview,b=Object(n.c)((function(e){return e})).auth,j=Object(r.h)().slug,p=Object(n.b)(),f=u.user;return Object(o.jsx)("div",{className:"card mb-3 border border-secondary border-2",style:{minWidth:"260px"},children:Object(o.jsxs)("div",{className:"row g-0 p-2",children:[Object(o.jsx)("div",{className:"col-md-4",style:{minHeight:"150px",overflow:"hidden",borderRadius:"3px"},children:u.thumbnail&&Object(o.jsx)(o.Fragment,{children:"string"===typeof u.thumbnail?Object(o.jsx)(c.b,{to:"/blog/".concat(u._id),children:Object(o.jsx)("img",{src:u.thumbnail,className:"w-100 h-100",alt:"thumbnail",style:{objectFit:"cover",maxHeight:"200px"}})}):Object(o.jsx)("img",{src:URL.createObjectURL(u.thumbnail),className:"w-100 h-100",alt:"thumbnail",style:{objectFit:"cover",maxHeight:"200px"}})})}),Object(o.jsxs)("div",{className:"col-md-8",children:[Object(o.jsxs)("div",{className:"card-body h-75",children:[Object(o.jsx)("h5",{className:"card-title ",children:Object(o.jsx)(c.b,{to:"/blog/".concat(u._id),style:{textDecoration:"none",textTransform:"capitalize"},children:u.title})}),Object(o.jsx)("p",{className:"card-text",children:u.description})]}),Object(o.jsx)("div",{className:"m-3",children:Object(o.jsxs)("p",{className:"card-text d-flex justify-content-between",children:[Object(o.jsxs)("small",{className:"text-capitalize fw-bold",children:["by:",j?(null===(a=b.user)||void 0===a?void 0:a._id)===j?b.user.name:f.name:null===(t=b.user)||void 0===t?void 0:t.name]}),(j===(null===(i=b.user)||void 0===i?void 0:i._id)||"admin"===(null===(l=b.user)||void 0===l?void 0:l.role))&&!d&&Object(o.jsxs)("div",{style:{cursor:"pointer"},children:[Object(o.jsx)(c.b,{to:"/update_blog/".concat(u._id),children:Object(o.jsx)("i",{className:"fas fa-edit",title:"edit"})}),Object(o.jsx)("i",{className:"fas fa-trash text-danger mx-3",title:"edit",onClick:function(){if(b.user&&b.access_token)return j!==b.user._id&&"admin"!==b.user.role?p({type:"ALERT",payload:{errors:"Invalid Authentication."}}):void(window.confirm("Do you want to delete this post?")&&p(Object(s.b)(u,b.access_token)))}})]}),Object(o.jsx)("small",{className:"text-muted fw-bold",children:new Date(u.createdAt).toLocaleString().split(",")[0]})]})})]})]})})}},38:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"b",(function(){return b}));var n=a(2),r=a.n(n),c=a(7),s=a(3),o=a(9),i=a(25),l=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){var c;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:s.a,payload:{loading:!0}}),a.next=4,Object(o.d)("category",{name:e},t);case 4:c=a.sent,n({type:i.a,payload:c.data.newCategory}),n({type:s.a,payload:{loading:!1}}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n({type:s.a,payload:{errors:a.t0.response.data.msg}});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},u=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:s.a,payload:{loading:!0}}),e.next=4,Object(o.b)("category");case 4:a=e.sent,t({type:i.c,payload:a.data.categories}),t({type:s.a,payload:{loading:!1}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:s.a,payload:{errors:e.t0.response.data.msg}});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},d=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:i.d,payload:e}),a.next=4,Object(o.c)("category/".concat(e._id),{name:e.name},t);case 4:a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),n({type:s.a,payload:{errors:a.t0.response.data.msg}});case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e){return a.apply(this,arguments)}}()},b=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:i.b,payload:e}),a.next=4,Object(o.a)("category/".concat(e),t);case 4:a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),n({type:s.a,payload:{errors:a.t0.response.data.msg}});case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e){return a.apply(this,arguments)}}()}},57:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),c=a(4),s=a(7),o=a(5),i=a(1),l=a(6),u=a(31),d=a(9),b=a(30),j=a(24),p=a(0),f=function(e){var t=e.blog,a=e.setBlog,n=Object(l.c)((function(e){return e})).categories,r=function(e){var n=e.target,r=n.value,s=n.name;a(Object(c.a)(Object(c.a)({},t),{},Object(j.a)({},s,r)))};return Object(p.jsxs)("form",{children:[Object(p.jsxs)("div",{className:"form-group position-relative",children:[Object(p.jsx)("input",{type:"text",className:"form-control border-2 border-secondary",value:t.title,name:"title",onChange:r}),Object(p.jsxs)("small",{className:"text-muted position-absolute",style:{bottom:0,right:"3px",opacity:"0.3"},children:[t.title.length,"/50"]})]}),Object(p.jsx)("div",{className:"form-group my-3",children:Object(p.jsx)("input",{type:"file",className:"form-control border-2 border-secondary",accept:"image/*",onChange:function(e){var n=e.target.files;if(n){var r=n[0];a(Object(c.a)(Object(c.a)({},t),{},{thumbnail:r}))}}})}),Object(p.jsxs)("div",{className:"form-group position-relative",children:[Object(p.jsx)("textarea",{className:"form-control border-2 border-secondary",rows:4,value:t.description,style:{resize:"none"},name:"description",onChange:r}),Object(p.jsxs)("small",{className:"text-muted position-absolute",style:{bottom:0,right:"3px",opacity:"0.3"},children:[t.description.length,"/200"]})]}),Object(p.jsx)("div",{className:"form-group my-3",children:Object(p.jsxs)("select",{className:"form-control border-2 border-secondary text-capitalize",value:t.category,name:"category",onChange:r,children:[Object(p.jsx)("option",{value:"",children:"Choose a category"}),n.map((function(e){return Object(p.jsx)("option",{value:e._id,children:e.name},e._id)}))]})})]})},m=a(36),O=a(60),h=a.n(O),x=(a(104),a(28)),v=a(3),g=[[{font:[]}],[{header:[1,2,3,4,5,6,!1]}],[{size:["small",!1,"large","huge"]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}],["clean","link","image","video"]],y=function(e){var t=e.setBody,a=e.body,n=Object(l.b)(),c=Object(i.useRef)(null),o={toolbar:{container:g}},u=Object(i.useCallback)((function(){var e=document.createElement("input");e.type="file",e.accept="image/*",e.click(),e.onchange=Object(s.a)(r.a.mark((function t(){var a,s,o,i,l,u,d;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=e.files){t.next=3;break}return t.abrupt("return",n({type:v.a,payload:{errors:"File does not exist."}}));case 3:if(o=s[0],!(i=Object(x.a)(o))){t.next=7;break}return t.abrupt("return",n({type:v.a,payload:{errors:i}}));case 7:return n({type:v.a,payload:{loading:!0}}),t.next=10,Object(x.b)(o);case 10:l=t.sent,u=c.current,void 0!==(d=null===u||void 0===u||null===(a=u.getEditor().getSelection())||void 0===a?void 0:a.index)&&(null===u||void 0===u||u.getEditor().insertEmbed(d,"image","".concat(l.url))),n({type:v.a,payload:{loading:!1}});case 15:case"end":return t.stop()}}),t)})))}),[n]);return Object(i.useEffect)((function(){var e=c.current;e&&e.getEditor().getModule("toolbar").addHandler("image",u)}),[u]),Object(p.jsx)("div",{children:Object(p.jsx)(h.a,{theme:"snow",modules:o,placeholder:"Write somethings...",onChange:function(e){return t(e)},value:a,ref:c})})},N=a(15),w=a(10);t.default=function(e){var t=e.id,a={user:"",title:"",content:"",description:"",thumbnail:"",category:"",createdAt:(new Date).toISOString()},n=Object(i.useState)(a),j=Object(o.a)(n,2),O=j[0],h=j[1],x=Object(i.useState)(""),g=Object(o.a)(x,2),_=g[0],k=g[1],C=Object(i.useState)(!0),S=Object(o.a)(C,2),E=S[0],T=(S[1],Object(i.useRef)(null)),L=Object(i.useState)(""),R=Object(o.a)(L,2),D=R[0],A=R[1],M=Object(l.c)((function(e){return e})).auth,I=Object(l.b)(),F=Object(i.useState)(a),P=Object(o.a)(F,2),z=P[0],B=P[1],G=Object(i.useState)(!1),U=Object(o.a)(G,2),H=U[0],q=U[1],W=Object(w.f)();Object(i.useEffect)((function(){H&&W.push("/")}),[H,W]),Object(i.useEffect)((function(){if(t){Object(d.b)("blog/".concat(t)).then((function(e){h(e.data),k(e.data.content),B(e.data)})).catch((function(e){return console.log(e)}));var e={user:"",title:"",content:"",description:"",thumbnail:"",category:"",createdAt:(new Date).toISOString()};return function(){h(e),k(""),B(e)}}}),[t]),Object(i.useEffect)((function(){var e=T.current;if(e){var t=null===e||void 0===e?void 0:e.innerText;A(t)}}),[_]);var Y=function(){var e=Object(s.a)(r.a.mark((function e(){var a,n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M.access_token){e.next=2;break}return e.abrupt("return");case 2:if(0===(a=Object(u.c)(Object(c.a)(Object(c.a)({},O),{},{content:D}))).errLength){e.next=5;break}return e.abrupt("return",I({type:v.a,payload:{errors:a.errMsg}}));case 5:if(n=Object(c.a)(Object(c.a)({},O),{},{content:_}),!t){e.next=15;break}if(O.user._id===(null===(s=M.user)||void 0===s?void 0:s._id)){e.next=9;break}return e.abrupt("return",I({type:v.a,payload:{errors:"Invalid Authentication."}}));case 9:if(!Object(u.b)(z,n)){e.next=12;break}return e.abrupt("return",I({type:v.a,payload:{errors:"The data does not change."}}));case 12:I(Object(N.f)(n,M.access_token)),e.next=16;break;case 15:I(Object(N.a)(n,M.access_token));case 16:q(!0);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return M.access_token?Object(p.jsxs)("div",{className:"my-4 create_blog",children:[Object(p.jsxs)("div",{className:"row mt-4",children:[Object(p.jsxs)("div",{className:"col-md-6",children:[Object(p.jsx)("h5",{children:"Create"}),Object(p.jsx)(f,{blog:O,setBlog:h})]}),Object(p.jsxs)("div",{className:"col-md-6",children:[Object(p.jsx)("h5",{children:"Preview"}),Object(p.jsx)(m.a,{blog:O,preview:E})]})]}),Object(p.jsx)(y,{setBody:k,body:_}),Object(p.jsx)("div",{ref:T,dangerouslySetInnerHTML:{__html:_},style:{display:"none"}}),Object(p.jsx)("small",{children:D.length}),Object(p.jsx)("button",{className:"btn btn-dark mt-3 d-block mx-auto",onClick:Y,children:t?"Update Post":"Create Post"})]}):Object(p.jsx)(b.a,{})}},58:function(e,t,a){"use strict";a(1);var n=a(6),r=a(10),c=a(8),s=a(15),o=a(0);t.a=function(e){var t,a,i=e.blog,l=Object(n.c)((function(e){return e})).auth,u=Object(r.h)().slug,d=Object(n.b)(),b=i.user;console.log(l.user);return Object(o.jsxs)("div",{className:"card border border-secondary border-2 mb-5",children:["string"===typeof i.thumbnail&&Object(o.jsx)("img",{src:i.thumbnail,className:"card-img-top p-2",alt:"...",style:{height:"180px",objectFit:"cover",borderRadius:"11px"}}),Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("h5",{className:"card-title ",children:Object(o.jsx)(c.b,{to:"/blog/".concat(i._id),style:{textDecoration:"none",textTransform:"capitalize"},children:i.title.length>50?i.title.slice(0,50)+"...":i.title})}),Object(o.jsx)("p",{className:"card-text",children:i.description.length>100?i.description.slice(0,100)+"...":i.description})]}),Object(o.jsx)("div",{className:"d-flex justify-content-center",children:(b._id===(null===(t=l.user)||void 0===t?void 0:t._id)||"admin"===(null===(a=l.user)||void 0===a?void 0:a.role))&&Object(o.jsxs)("div",{style:{cursor:"pointer"},children:[Object(o.jsx)(c.b,{to:"/update_blog/".concat(i._id),children:Object(o.jsx)("i",{className:"fas fa-edit",title:"edit"})}),Object(o.jsx)("i",{className:"fas fa-trash text-danger mx-3",title:"edit",onClick:function(){if(l.user&&l.access_token)return u!==l.user._id&&"admin"!==l.user.role?d({type:"ALERT",payload:{errors:"Invalid Authentication."}}):void(window.confirm("Do you want to delete this post?")&&d(Object(s.b)(i,l.access_token)))}})]})}),Object(o.jsx)("div",{className:"m-3",children:Object(o.jsxs)("p",{className:"card-text d-flex justify-content-between",children:[Object(o.jsx)("small",{className:"text-muted text-capitalize fw-bold",children:"string"!==typeof i.user&&Object(o.jsxs)(c.b,{to:"/profile/".concat(i.user._id),style:{textDecoration:"none",textTransform:"capitalize"},children:["By: ",i.user.name]})}),Object(o.jsx)("small",{className:"text-muted fw-bold",children:new Date(i.createdAt).toLocaleString().split(",")[0]})]})})]})}},61:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n="GET_OTHER_INFO"},72:function(e,t,a){"use strict";a.r(t);a(1);var n=a(6),r=a(8),c=a(58),s=a(21),o=a(0),i=function(){var e=Object(n.c)((function(e){return e})).homeBlogs;return Object(o.jsx)("div",{className:"sidebar position-relative",children:Object(o.jsx)("div",{className:"d-flex justify-content-center border-left border-muted border-2",children:Object(o.jsxs)("div",{className:"position-fixed",children:[Object(o.jsx)("h3",{className:"text-center mt-4 text-dark",children:"Category"}),Object(o.jsx)("hr",{className:"border border-dark border-2"}),Object(o.jsx)("ul",{className:"mt-3",children:e.map((function(e){return Object(o.jsx)("li",{className:"d-flex justify-content-center",children:Object(o.jsx)(r.b,{to:"/blogs/".concat(e.name.toLowerCase()),children:e.name})})}))})]})})})};t.default=function(){var e=Object(n.c)((function(e){return e})).homeBlogs;return console.log(e),0===e.length?Object(o.jsx)(s.a,{}):Object(o.jsxs)("div",{className:"row my-3",children:[Object(o.jsx)("div",{className:"home_page col-md-9",children:e.map((function(e){return Object(o.jsxs)("div",{children:[e.count>0&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h3",{className:"text-info",children:Object(o.jsxs)(r.b,{to:"/blogs/".concat(e.name.toLowerCase()),children:[e.name," ",Object(o.jsxs)("small",{children:["(",e.count,")"]})]})}),Object(o.jsx)("hr",{className:"mt-1 mb-4 border border-2 border-dark "}),Object(o.jsx)("div",{className:"home_blogs",children:e.blogs.map((function(e){return Object(o.jsx)(c.a,{blog:e},e._id)}))})]}),e.count>3&&Object(o.jsx)(r.b,{className:"text-end d-block mt-2 mb-3  text-decoration-none ",to:"/blogs/".concat(e.name),children:Object(o.jsx)("button",{className:"btn btn-outline-dark border border-dark border-2",children:"Read more"})})]},e._id)}))}),Object(o.jsx)("div",{className:"outside_sidebar col-md-3 position-relative",children:Object(o.jsx)(i,{})})]})}},83:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a(1),c=a(10),s=a(9),o=a(33),i=a(0);t.default=function(){var e=Object(c.h)().slug,t=Object(r.useState)(""),a=Object(n.a)(t,2),l=a[0],u=a[1],d=Object(r.useState)(""),b=Object(n.a)(d,2),j=b[0],p=b[1];return Object(r.useEffect)((function(){e&&Object(s.d)("active",{active_token:e}).then((function(e){return p(e.data.msg)})).catch((function(e){return u(e.response.data.msg)}))}),[e]),Object(i.jsxs)("div",{children:[l&&Object(o.b)(l),j&&Object(o.c)(j)]})}},9:function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"a",(function(){return b}));var n=a(2),r=a.n(n),c=a(7),s=a(39),o=a.n(s),i=function(){var e=Object(c.a)(r.a.mark((function e(t,a,n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/api/".concat(t),a,{headers:{Authorization:n}});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/".concat(t),{headers:{Authorization:a}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(r.a.mark((function e(t,a,n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.patch("/api/".concat(t),a,{headers:{Authorization:n}});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(r.a.mark((function e(t,a,n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.put("/api/".concat(t),a,{headers:{Authorization:n}});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("/api/".concat(t),{headers:{Authorization:a}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}},[[254,1,2]]]);
//# sourceMappingURL=main.fe6d6741.chunk.js.map