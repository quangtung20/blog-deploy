{"version":3,"sources":["pages/blogs/[slug].tsx","pages/category.tsx","pages/forgot_password.tsx","pages/reset_password/[slug].tsx","pages/update_blog/[slug].tsx","components/editor/LiteQuill.tsx","components/comments/Input.tsx","components/comments/AvatarComment.tsx","components/comments/AvatarReply.tsx","redux/actions/commentAction.ts","components/comments/CommentList.tsx","components/comments/Comments.tsx","components/blog/DisplayBlog.tsx","pages/blog/[slug].tsx","components/auth/LoginPass.tsx","components/auth/LoginSMS.tsx","components/auth/SocialLogin.tsx","pages/login.tsx","components/profile/UserInfo.tsx","components/profile/OtherInfo.tsx","components/profile/UserBlogs.tsx","pages/profile/[slug].tsx","components/auth/RegisterForm.tsx","pages/register.tsx","pages sync /^/.//.*$","redux/types/commentType.ts","redux/actions/authAction.ts","redux/actions/blogAction.ts","redux/types/blogType.ts","components/global/Loading.tsx","redux/types/authType.ts","redux/types/categoryType.ts","PageRender.tsx","components/global/Search.tsx","components/global/Menu.tsx","components/global/Header.tsx","components/global/Footer.tsx","App.tsx","redux/reducers/authReducer.ts","redux/reducers/alertReducer.ts","redux/reducers/categoryReducer.ts","redux/reducers/homeBlogsReducer.ts","redux/reducers/blogsCategoryReducer.ts","redux/reducers/otherInfoReducer.ts","redux/reducers/blogsUserReducer.ts","redux/reducers/commentReducer.ts","redux/reducers/index.ts","redux/store.ts","index.tsx","utils/ImageUpload.ts","redux/types/alertType.ts","components/global/NotFound.tsx","utils/Valid.ts","redux/actions/userAction.ts","components/alert/Loading.tsx","components/alert/Toast.tsx","components/alert/Alert.tsx","components/global/Pagination.tsx","components/cards/CardHoriz.tsx","redux/actions/categoryAction.ts","components/cards/CreateForm.tsx","components/editor/ReactQuill.tsx","pages/create_blog.tsx","components/cards/CardVert.tsx","redux/types/profileType.ts","components/sidebar/SideBar.tsx","pages/index.tsx","pages/active/[slug].tsx","utils/FetchData.ts"],"names":["BlogsByCategory","useSelector","state","categories","blogsCategory","dispatch","useDispatch","slug","useParams","useState","categoryId","setCategoryId","blogs","setBlogs","total","setTotal","history","useHistory","search","location","useEffect","category","find","item","name","_id","every","id","getBlogsByCategoryId","data","push","className","map","blog","callback","num","Category","setName","edit","setEdit","auth","user","role","onSubmit","e","preventDefault","access_token","updateCategory","createCategory","htmlFor","style","cursor","onClick","type","value","onChange","target","deleteCategory","ForgotPassword","account","setAccount","maxWidth","forgotPassword","ResetPassword","token","password","setPassword","cf_password","setCfPassword","typePass","setTypePass","typeCfPass","setTypeCfPass","done","setDone","resetPassword","UpdateBlog","container","LiteQuill","body","setBody","modules","toolbar","theme","placeholder","Input","divRef","useRef","content","ref","dangerouslySetInnerHTML","__html","display","div","current","innerText","trim","undefined","AvatarComment","src","avatar","alt","to","AvatarReply","reply_user","textDecoration","getComments","a","getAPI","res","GET_COMMENTS","payload","comments","ALERT","errors","response","msg","CommentList","children","comment","showReply","setShowReply","onReply","setOnReply","handleDelete","comment_root","DELETE_REPLY","DELETE_COMMENT","deleteAPI","Nav","newComment","UPDATE_REPLY","UPDATE_COMMENT","patchAPI","borderRadius","blog_user_id","Date","createdAt","toLocaleString","blog_id","toISOString","postAPI","REPLY_COMMENT","replyComment","Comments","next","setNext","replyCM","opacity","pointerEvents","slice","index","length","color","DisplayBlog","showComments","setShowComments","loading","setLoading","fetchComments","useCallback","title","CREATE_COMMENT","createComment","Loading","Pagination","DetailBlog","setBlog","error","setError","then","catch","err","showErrMsg","LoginPass","userLogin","setUserLogin","handleChangeInput","login","disabled","LoginSMS","phone","setPhone","loginSMS","SocialLogin","client_id","cookiepolicy","onSuccess","googleUser","id_token","getAuthResponse","googleLogin","appId","authResponse","accessToken","userID","facebookLogin","Login","sms","url","replace","UserInfo","setUser","updateUser","URL","createObjectURL","accept","files","file","defaultValue","NotFound","OtherInfo","other","setOther","otherInfo","getOtherInfo","newUser","UserBlogs","blogsUser","user_id","getBlogsByUserId","CardHoriz","Profile","RegisterForm","userRegister","setUserRegister","register","Register","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","Object","resolve","module","exports","AUTH","success","localStorage","setItem","check","validRegister","errLength","errMsg","refreshToken","getItem","logout","removeItem","validPhone","valid","verifySMS","prompt","setTimeout","createBlog","thumbnail","imageUpload","photo","newBlog","CREATE_BLOGS_USER_ID","getHomeBlogs","GET_HOME_BLOGS","GET_BLOGS_CATEGORY_ID","GET_BLOGS_USER_ID","updateBlog","putAPI","deleteBlog","DELETE_BLOGS_USER_ID","CREATE_CATEGORY","GET_CATEGORIES","UPDATE_CATEGORY","DELETE_CATEGORY","PageRender","page","React","createElement","require","default","generatePage","Search","setSearch","pathname","useLocation","delayDebounce","console","log","clearTimeout","width","background","zIndex","maxHeight","overflow","Menu","navLinks","label","path","isActive","pn","link","data-bs-toggle","aria-expanded","aria-labelledby","position","left","minWidth","Header","data-bs-target","aria-controls","aria-label","Footer","backgroundColor","href","margin","App","getCategories","Alert","exact","component","authReducer","action","alertReducer","categoryReducer","types","filter","homeBlogsReducer","blogsCategoryReducer","otherInfoReducer","GET_OTHER_INFO","blogsUserReducer","initialState","commentReducer","rp","combineReducers","alert","homeBlogs","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById","checkImage","size","includes","formData","FormData","append","fetch","method","json","public_id","secure_url","minHeight","top","transform","test","String","toLowerCase","checkPassword","validCreateBlog","description","shallowEqual","object1","object2","keys1","keys2","key","height","viewBox","stroke","strokeWidth","fill","points","x","y","Toast","bgColor","right","data-bs-dismiss","text","showSuccessMsg","setPage","newArr","Array","_","i","handlePagination","Number","aria-hidden","preview","objectFit","textTransform","window","confirm","split","newCategory","CreateForm","bottom","rows","resize","Quill","quillRef","handleChangeImage","input","click","onchange","quill","range","getEditor","getSelection","insertEmbed","getModule","addHandler","CreateBlog","initState","setText","oldData","setOldData","initData","handleSubmit","newData","ReactQuill","CardVert","SideBar","homeBlog","Home","count","Active","setErr","setSuccess","active_token","post","axios","headers","Authorization","get","patch","put","delete"],"mappings":"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","file":"static/js/main.fe6d6741.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useParams, useHistory } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport { getBlogsByCategoryId } from '../../redux/actions/blogAction'\n\nimport { RootStore, IParams, IBlog } from '../../utils/TypeScript'\n\nimport Loading from '../../components/global/Loading'\nimport Pagination from '../../components/global/Pagination'\nimport CardVert from '../../components/cards/CardVert'\n\n\nconst BlogsByCategory = () => {\n  const { categories, blogsCategory } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n  const { slug } = useParams<IParams>()\n\n  const [categoryId, setCategoryId] = useState('')\n  const [blogs, setBlogs] = useState<IBlog[]>()\n  const [total, setTotal] = useState(0)\n\n  const history = useHistory()\n  const { search } = history.location;\n\n  useEffect(() => {\n    const category = categories.find(item => item.name === slug)\n    if(category) setCategoryId(category._id)\n  },[slug, categories])\n\n\n  useEffect(() => {\n    if(!categoryId) return;\n\n    if(blogsCategory.every(item => item.id !== categoryId)){\n      dispatch(getBlogsByCategoryId(categoryId, search))\n    }else{\n      const data = blogsCategory.find(item => item.id === categoryId)\n      if(!data) return;\n      setBlogs(data.blogs)\n      setTotal(data.total)\n\n      if(data.search) history.push(data.search)\n    }\n  },[categoryId, blogsCategory, dispatch, search, history])\n  \n\n  const handlePagination = (num: number) => {\n    const search = `?page=${num}`\n    dispatch(getBlogsByCategoryId(categoryId, search))\n  }\n\n\n  if(!blogs) return <Loading />;\n  return (\n    <div className=\"blogs_category\">\n      <div className=\"show_blogs\">\n        {\n          blogs.map(blog => (\n            <CardVert key={blog._id} blog={blog} />\n          ))\n        }\n      </div>\n      \n      {\n        total > 1 &&\n        <Pagination \n        total={total}\n        callback={handlePagination}\n        />\n      }\n     \n    </div>\n  )\n}\n\nexport default BlogsByCategory\n","import React, { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport { FormSubmit, RootStore, ICategory } from '../utils/TypeScript'\n\nimport { createCategory, updateCategory, deleteCategory } from '../redux/actions/categoryAction'\n\nimport NotFound from '../components/global/NotFound'\n\nconst Category = () => {\n  const [name, setName] = useState('')\n  const [edit, setEdit] = useState<ICategory | null>(null)\n\n  const { auth, categories } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    if(edit) setName(edit.name)\n  },[edit])\n\n  const handleSubmit = (e: FormSubmit) => {\n    e.preventDefault()\n    if(!auth.access_token || !name) return;\n\n    if(edit){\n      if(edit.name === name) return;\n      const data = {...edit, name}\n      dispatch(updateCategory(data, auth.access_token))\n    }else{\n      dispatch(createCategory(name, auth.access_token))\n    }\n    setName('')\n    setEdit(null)\n  }\n\n\n  const handleDelete = (id: string) => {\n    if(!auth.access_token) return;\n    dispatch(deleteCategory(id, auth.access_token))\n  }\n\n\n  if(auth.user?.role !== 'admin') return <NotFound />\n  return (\n    <div className=\"category\">\n      <form onSubmit={handleSubmit}>\n        <label htmlFor=\"category\">Category</label>\n\n        <div className=\"d-flex align-items-center\">\n          {\n            edit && <i className=\"fas fa-times me-2 text-danger\"\n            style={{cursor: 'pointer'}}\n            onClick={() => setEdit(null)} />\n          }\n          <input type=\"text\" name=\"category\" id=\"category\"\n          value={name} onChange={e => setName(e.target.value)} />\n\n          <button type=\"submit\">\n            { edit ? 'Update' : 'Create' }\n          </button>\n        </div>\n      </form>\n\n      <div>\n        {\n          categories.map(category => (\n            <div className=\"category_row\" key={category._id}>\n              <p className=\"m-0 text-capitalize\">{category.name}</p>\n\n              <div>\n                <i className=\"fas fa-edit mx-2\"\n                onClick={() => setEdit(category)} />\n                <i className=\"fas fa-trash-alt\"\n                onClick={() => handleDelete(category._id)} />\n              </div>\n            </div>\n          ))\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default Category\n","import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { forgotPassword} from '../redux/actions/authAction'\n\nimport { FormSubmit} from '../utils/TypeScript'\n\nconst ForgotPassword = () => {\n  const [account, setAccount] = useState('')\n  const dispatch = useDispatch()\n\n  const handleSubmit = (e: FormSubmit) => {\n    e.preventDefault()\n    dispatch(forgotPassword(account))\n  }\n\n  return (\n    <div className=\"my-4\" style={{maxWidth: '500px'}}>\n      <h2>Forgot Password?</h2>\n\n      <form className=\"form-group\" onSubmit={handleSubmit}>\n        <label htmlFor=\"account\">Email / Phone Number</label>\n\n        <div className=\"d-flex align-items-center\">\n          <input type=\"text\" className=\"form-control\" id=\"account\"\n          name=\"account\" onChange={e => setAccount(e.target.value)}  />\n\n          <button className=\"btn btn-primary mx-2 d-flex align-items-center\"\n          type=\"submit\">\n            <i className=\"fas fa-paper-plane me-2\" /> Send\n          </button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default ForgotPassword","import React, { useEffect, useState } from 'react'\nimport { useHistory, useParams } from 'react-router-dom'\nimport { useDispatch } from 'react-redux'\n\nimport { IParams, FormSubmit } from '../../utils/TypeScript'\n\nimport { resetPassword } from '../../redux/actions/userAction'\n\nconst ResetPassword = () => {\n  const token = useParams<IParams>().slug\n  const dispatch = useDispatch()\n\n  const [password, setPassword] = useState('')\n  const [cf_password, setCfPassword] = useState('')\n  const [typePass, setTypePass] = useState(false)\n  const [typeCfPass, setTypeCfPass] = useState(false)\n  const [done,setDone] = useState(false)\n\n  const history = useHistory()\n\n  useEffect(() => {\n    if(done) {\n      history.push('/login')\n    }\n  },[done, history])\n\n  const handleSubmit = (e: FormSubmit) => {\n    e.preventDefault()\n    dispatch(resetPassword(password, cf_password, token))\n    setDone(true)\n  }\n\n  return (\n    <div className=\"auth_page\">\n      <form className=\"auth_box\" onSubmit={handleSubmit}>\n        <h3 className=\"text-uppercase text-center mb-4\"> \n          Reset Password\n        </h3>\n\n        <div className=\"form-group my-2\">\n          <label htmlFor=\"password\" className=\"form-label\">Password</label>\n          <div className=\"pass\">\n            <input type={typePass ? \"text\" : \"password\"} \n            className=\"form-control\" \n            id=\"password\"\n            name=\"password\" value={password} \n            onChange={e => setPassword(e.target.value)} \n            />\n          <small onClick={() => setTypePass(!typePass)} className=\"mx-1\">\n            {typePass ? (<i className=\"fs-6 bi bi-eye-slash-fill\"/>) : (<i className=\"bi bi-eye-fill fs-6\"/>)}\n          </small>\n          </div>\n        </div>\n\n        <div className=\"form-group my-2\">\n          <label htmlFor=\"password\" className=\"form-label\">Confirm Password</label>\n          <div className=\"pass\">\n            <input type={typeCfPass ? \"text\" : \"password\"} \n            className=\"form-control\" \n            id=\"password\"\n            name=\"password\" value={cf_password} \n            onChange={e => setCfPassword(e.target.value)} \n            />\n          <small onClick={() => setTypeCfPass(!typeCfPass)} className=\"mx-1\">\n            {typeCfPass ? (<i className=\"fs-6 bi bi-eye-slash-fill\"/>) : (<i className=\"bi bi-eye-fill fs-6\"/>)}\n          </small>\n          </div>\n        </div>\n\n        <button type=\"submit\" className=\"btn btn-dark w-100 mt-2\">\n          Reset Password\n        </button>\n     </form>\n    </div>\n  )\n}\n\nexport default ResetPassword","import React from 'react'\nimport { useParams } from 'react-router-dom'\n\nimport { IParams } from '../../utils/TypeScript'\n\nimport CreateBlog from '../create_blog'\n\nconst UpdateBlog = () => {\n  const { slug } = useParams<IParams>()\n\n  return <CreateBlog id={slug} />\n}\n\nexport default UpdateBlog","import React from 'react'\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\n\n\n\ninterface IProps {\n  body: string\n  setBody: (value: string) => void\n}\n\nconst LiteQuill: React.FC<IProps> = ({body, setBody}) => {\n\n  const modules = { toolbar: { container }}\n\n\n  return (\n    <div>\n      <ReactQuill theme=\"snow\"\n        modules={modules}\n        placeholder=\"Write somethings...\"\n        onChange={e => setBody(e)}\n        value={body}\n      />\n    </div>\n  )\n}\n\nlet container = [\n  [{ 'font': [] }],\n  ['bold', 'italic', 'underline', 'strike'],        \n  ['blockquote', 'code-block', 'link'],\n  [{ 'color': [] }, { 'background': [] }],          \n  [{ 'script': 'sub'}, { 'script': 'super' }]\n]\n\nexport default LiteQuill\n","import React, { useState, useRef, useEffect } from 'react'\nimport { IComment } from '../../utils/TypeScript'\nimport LiteQuill from '../editor/LiteQuill'\n\n\ninterface IProps {\n  callback: (body: string) => void\n  edit?: IComment\n  setEdit?:(edit?: IComment) => void\n}\n\nconst Input: React.FC<IProps> = ({ callback, edit, setEdit }) => {\n\n  const [body, setBody] = useState('')\n  const divRef = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    if(edit) setBody(edit.content)\n  },[edit])\n\n\n  const handleSubmit = () => {\n    const div = divRef.current;\n    const text = (div?.innerText as string)\n    if(!text.trim()) {\n      if(setEdit) return setEdit(undefined);\n      return;\n    };\n\n    callback(body)\n\n    setBody('')\n  }\n  \n  return (\n    <div>\n      <LiteQuill body={body} setBody={setBody} />\n\n      <div ref={divRef} dangerouslySetInnerHTML={{\n        __html: body\n      }} style={{display: 'none'}} />\n\n      <button className=\"btn btn-dark ms-auto d-block px-4 mt-2\"\n      onClick={handleSubmit}>\n        { edit ? 'Update' : 'Send' }\n      </button>\n    </div>\n  )\n}\n\nexport default Input\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { IUser } from '../../utils/TypeScript'\n\ninterface IProps {\n  user: IUser\n}\n\nconst AvatarComment: React.FC<IProps> = ({ user }) => {\n  return (\n    <div className=\"avatar_comment\">\n      <img src={user.avatar} alt=\"avatar\" />\n\n      <small className=\"d-block text-break\">\n        <Link to={`/profile/${user._id}`}>\n          {user.name}\n        </Link>\n      </small>\n    </div>\n  )\n}\n\nexport default AvatarComment\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { IUser } from '../../utils/TypeScript'\n\ninterface IProps {\n  user: IUser\n  reply_user?: IUser\n}\nconst AvatarReply: React.FC<IProps> = ({ user, reply_user }) => {\n  return (\n    <div className=\"avatar_reply\">\n      <img src={user.avatar} alt=\"avatar\" />\n\n      <div className=\"ms-1\">\n        <small>\n          <Link to={`/profile/${user._id}`}\n          style={{ textDecoration: 'none' }}>\n            { user.name }\n          </Link>\n        </small>\n\n        <small className=\"reply-text\">\n          Reply to <Link to={`/profile/${reply_user?._id}`}>\n            { reply_user?.name }\n          </Link>\n        </small>\n      </div>\n    </div>\n  )\n}\n\nexport default AvatarReply\n","import { Dispatch } from 'redux'\n\nimport { ALERT, IAlertType } from '../types/alertType'\nimport { \n  CREATE_COMMENT,\n  ICreateCommentType,\n  GET_COMMENTS,\n  IGetCommentsType,\n  REPLY_COMMENT,\n  IReplyCommentType,\n  UPDATE_COMMENT,\n  UPDATE_REPLY,\n  IUpdateType,\n  DELETE_COMMENT,\n  DELETE_REPLY,\n  IDeleteType\n} from '../types/commentType'\n\nimport { IComment } from '../../utils/TypeScript'\nimport { postAPI, getAPI, patchAPI, deleteAPI } from '../../utils/FetchData'\n\n\nexport const createComment = (\n  data: IComment, token: string\n) => async(dispatch: Dispatch<IAlertType | ICreateCommentType>) => {\n  try {\n    const res = await postAPI('comment', data, token)\n\n    dispatch({\n      type: CREATE_COMMENT,\n      payload: { ...res.data, user: data.user }\n    })\n    \n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\n\nexport const getComments = (\n  id: string, num: number\n) => async(dispatch: Dispatch<IAlertType | IGetCommentsType>) => {\n  try {\n    let limit = 4;\n\n    const res = await getAPI(`comments/blog/${id}?page=${num}&limit=${limit}`)\n\n    dispatch({\n      type: GET_COMMENTS,\n      payload: {\n        data: res.data.comments,\n        total: res.data.total\n      }\n    })\n    \n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\n\nexport const replyComment = (\n  data: IComment, token: string\n) => async(dispatch: Dispatch<IAlertType | IReplyCommentType>) => {\n  try {\n    const res = await postAPI('reply_comment', data, token)\n\n    dispatch({\n      type: REPLY_COMMENT,\n      payload: { \n        ...res.data, \n        user: data.user,\n        reply_user: data.reply_user\n      }\n    })\n    \n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\n\nexport const updateComment = (\n  data: IComment, token: string\n) => async(dispatch: Dispatch<IAlertType | IUpdateType>) => {\n  try {\n    dispatch({ \n      type: data.comment_root ? UPDATE_REPLY : UPDATE_COMMENT, \n      payload: data \n    })\n\n    await patchAPI(`comment/${data._id}`, { \n      content: data.content\n    }, token)\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\n\nexport const deleteComment = (\n  data: IComment, token: string\n) => async(dispatch: Dispatch<IAlertType | IDeleteType>) => {\n  try {\n    dispatch({ \n      type: data.comment_root ? DELETE_REPLY : DELETE_COMMENT, \n      payload: data \n    })\n    \n    await deleteAPI(`comment/${data._id}`, token)\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}","import React, { useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { IComment, RootStore } from '../../utils/TypeScript'\n\nimport { \n  replyComment, \n  updateComment,\n  deleteComment\n} from '../../redux/actions/commentAction'\n\nimport Input from './Input'\n\ninterface IProps {\n  comment: IComment\n  showReply: IComment[]\n  setShowReply: (showReply: IComment[]) => void\n}\n\nconst CommentList: React.FC<IProps> = ({ \n  children, comment, showReply, setShowReply\n}) => {\n  const [onReply, setOnReply] = useState(false)\n  const { auth } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  const [edit, setEdit] = useState<IComment>()\n\n  const handleReply = (body: string) => {\n    if(!auth.user || !auth.access_token) return;\n\n    const data = {\n      user: auth.user,\n      blog_id: comment.blog_id,\n      blog_user_id: comment.blog_user_id,\n      content: body,\n      reply_user: comment.user,\n      comment_root: comment.comment_root || comment._id,\n      createdAt: new Date().toISOString()\n    }\n\n\n    setShowReply([data, ...showReply])\n    dispatch(replyComment(data, auth.access_token))\n    setOnReply(false)\n  }\n\n\n  const handleUpdate = (body: string) => {\n    if(!auth.user || !auth.access_token || !edit) return;\n\n    if(body === edit.content) \n      return setEdit(undefined)\n    \n    const newComment = {...edit, content: body}\n    dispatch(updateComment(newComment, auth.access_token))\n    setEdit(undefined)\n  }\n\n  const handleDelete = (comment: IComment) => {\n    if(!auth.user || !auth.access_token) return;\n    dispatch(deleteComment(comment, auth.access_token))\n  }\n\n\n  const Nav = (comment: IComment) => {\n    return(\n      <div>\n        <i className=\"fas fa-trash-alt mx-2\"\n        onClick={() => handleDelete(comment)} />\n\n        <i className=\"fas fa-edit me-2\"\n        onClick={() => setEdit(comment)} />\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"w-100\">\n      {\n        edit\n        ? <Input \n          callback={handleUpdate} \n          edit={edit}\n          setEdit={setEdit}\n        />\n\n        : <div className=\"comment_box border  border-3\" style={{borderRadius:'5px'}}>\n            <div className=\"p-2\" dangerouslySetInnerHTML={{\n              __html: comment.content\n            }} />\n\n            <div className=\"d-flex justify-content-between p-2\">\n              <button \n                className='btn btn-outline-dark'\n                onClick={() => setOnReply(!onReply)}\n              >\n                {onReply ? 'Cancel' :'Reply'}\n              </button>\n\n              <small className=\"d-flex pt-3\">\n                <div className=\"comment_nav\">\n                  {\n                    comment.blog_user_id === auth.user?._id\n                    ? comment.user._id === auth.user._id\n                      ? Nav(comment)\n                      : <i className=\"fas fa-trash-alt mx-2\"\n                      onClick={() => handleDelete(comment)} />\n                    : comment.user._id === auth.user?._id && Nav(comment)\n                  }\n                </div>\n\n                <div >\n                  { new Date(comment.createdAt).toLocaleString() }\n                </div>\n              </small>\n            </div>\n\n          </div>\n      }\n\n      {\n        onReply && <Input callback={handleReply} />\n      }\n      \n      { children }\n    </div>\n  )\n}\n\nexport default CommentList\n","import React, { useState, useEffect } from 'react'\n\nimport { IComment } from '../../utils/TypeScript'\n\nimport AvatarComment from './AvatarComment'\nimport AvatarReply from './AvatarReply'\nimport CommentList from './CommentList'\n\n\ninterface IProps {\n  comment: IComment\n}\n\nconst Comments: React.FC<IProps> = ({ comment }) => {\n  const [showReply, setShowReply] = useState<IComment[]>([])\n  const [next, setNext] = useState(2)\n \n  useEffect(() => {\n    if(!comment.replyCM) return;\n    setShowReply(comment.replyCM)\n  },[comment.replyCM])\n\n  return (\n    <div className=\"my-3 d-flex\" style={{\n      opacity: comment._id ? 1 : 0.5,\n      pointerEvents: comment._id ? 'initial' : 'none'\n    }}>\n      <AvatarComment user={comment.user} /> \n\n      <CommentList \n      comment={comment} \n      showReply={showReply}\n      setShowReply={setShowReply}\n      >\n        {\n          showReply.slice(0, next).map((comment, index) => (\n            <div key={index} style={{\n              opacity: comment._id ? 1 : 0.5,\n              pointerEvents: comment._id ? 'initial' : 'none'\n            }}>\n              <AvatarReply\n                user={comment.user}\n                reply_user={comment.reply_user}\n              />\n\n              <CommentList \n                comment={comment} \n                showReply={showReply}\n                setShowReply={setShowReply}\n              />\n            </div>\n          ))\n        }\n\n        <div style={{ cursor: 'pointer' }}>\n          {\n            showReply.length -next > 0\n            ? <small style={{ color: 'crimson' }}\n            onClick={() => setNext(next + 5)}>\n              See more comments...\n            </small>\n            : showReply.length > 2 && \n            <small style={{ color: 'teal' }}\n            onClick={() => setNext(2)}>\n              Hide comments...\n            </small>\n          }\n        </div>\n\n      </CommentList>\n    </div>\n  )\n}\n\nexport default Comments\n","import React, { useState, useEffect, useCallback } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Link, useHistory } from 'react-router-dom'\n\nimport { IBlog, RootStore, IUser, IComment } from '../../utils/TypeScript'\n\nimport Input from '../comments/Input'\nimport Comments from '../comments/Comments'\nimport Loading from '../global/Loading'\nimport Pagination from '../global/Pagination'\n\nimport { \n  createComment, \n  getComments \n} from '../../redux/actions/commentAction'\n\n\ninterface IProps {\n  blog: IBlog\n}\n\nconst DisplayBlog: React.FC<IProps> = ({blog}) => {\n  const { auth, comments } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  const [showComments, setShowComments] = useState<IComment[]>([])\n  const [loading, setLoading] = useState(false)\n\n  const history = useHistory()\n\n\n  const handleComment = (body: string) => {\n    if(!auth.user || !auth.access_token) return;\n\n    const data = {\n      content: body,\n      user: auth.user,\n      blog_id: (blog._id as string),\n      blog_user_id: (blog.user as IUser)._id,\n      createdAt: new Date().toISOString()\n    }\n\n    setShowComments([data, ...showComments])\n    dispatch(createComment(data, auth.access_token))\n  }\n\n\n  useEffect(() => {\n    setShowComments(comments.data)\n  },[comments.data])\n\n\n  const fetchComments = useCallback(async(id: string, num = 1) => {\n    setLoading(true)\n    await dispatch(getComments(id, num))\n    setLoading(false)\n  },[dispatch])\n\n\n  useEffect(() => {\n    if(!blog._id) return;\n    const num = history.location.search.slice(6) || 1;\n    fetchComments(blog._id, num)\n  },[blog._id, fetchComments, history])\n\n  const handlePagination = (num: number) => {\n    if(!blog._id) return;\n    fetchComments(blog._id, num)\n  }\n\n\n  return (\n    <div>\n      <h2 className=\"text-center my-3 text-capitalize fs-1\"\n      style={{ color: '#ff7a00' }}>\n        {blog.title}\n      </h2>\n\n      <div className=\"text-end fst-italic mb-2\" style={{color: 'teal'}}>\n        <small>\n          {\n            typeof(blog.user) !== 'string' &&\n            `By: ${blog.user.name}`\n          }\n        </small>\n\n        <small className=\"ms-2\">\n          { new Date(blog.createdAt).toLocaleString() }\n        </small>\n      </div>\n\n      <div dangerouslySetInnerHTML={{\n        __html: blog.content\n      }} />\n\n      <hr className=\"my-1\" />\n      <h3 style={{color: '#ff7a00'}}> Comments </h3>\n\n      {\n        auth.user\n        ? <Input callback={handleComment} />\n        : <h5>\n          Please <Link to={`/login?blog/${blog._id}`}>login</Link> to comment.\n        </h5>\n      }\n      \n      {\n        loading\n        ? <Loading />\n        : showComments?.map((comment, index) => (\n          <Comments key={index} comment={comment} />\n        ))\n      }\n\n      {\n        comments.total > 1 &&\n        <Pagination \n        total={comments.total}\n        callback={handlePagination}\n        />\n      }\n    </div>\n  )\n}\n\nexport default DisplayBlog\n","import React, { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\n\nimport { IParams, IBlog } from '../../utils/TypeScript'\nimport { getAPI } from '../../utils/FetchData'\n\nimport Loading from '../../components/global/Loading'\nimport { showErrMsg } from '../../components/alert/Alert'\nimport DisplayBlog from '../../components/blog/DisplayBlog'\n\nconst DetailBlog = () => {\n  const id = useParams<IParams>().slug\n\n  const [blog, setBlog] = useState<IBlog>()\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState('')\n\n  useEffect(() => {\n    if(!id) return;\n\n    setLoading(true)\n\n    getAPI(`blog/${id}`)\n    .then(res => {\n      setBlog(res.data)\n      setLoading(false)\n    })\n    .catch(err => {\n      setError(err.response.data.msg)\n      setLoading(false)\n    })\n\n    return () => setBlog(undefined)\n  },[id])\n\n\n  if(loading) return <Loading />;\n  return (\n    <div className=\"my-4\">\n      { error && showErrMsg(error) }\n      \n      { blog && <DisplayBlog blog={blog} /> }\n\n    </div>\n  )\n}\n\nexport default DetailBlog\n","import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { InputChange, FormSubmit } from '../../utils/TypeScript'\nimport { login } from '../../redux/actions/authAction'\n\n\nconst LoginPass = () => {\n  const initialState = { account: '', password: '' }\n  const [userLogin, setUserLogin] = useState(initialState)\n  const { account, password } = userLogin\n\n  const [typePass, setTypePass] = useState(false)\n\n  const dispatch = useDispatch()\n\n  const handleChangeInput = (e: InputChange) => {\n    const {value, name} = e.target\n    setUserLogin({...userLogin, [name]:value})\n  }\n\n  const handleSubmit = (e: FormSubmit) => {\n    e.preventDefault()\n    dispatch(login(userLogin))\n    \n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group mb-3\">\n        <label htmlFor=\"account\" className=\"form-label\">\n          Account\n        </label>\n\n        <input type=\"text\" className=\"form-control border-2 border-secondary\" id=\"account\"\n        name=\"account\" value={account} onChange={handleChangeInput} />\n      </div>\n\n      <div className=\"form-group mb-3\">\n        <label htmlFor=\"password\" className=\"form-label\">Password</label>\n\n        <div className=\"pass\">\n          <input type={typePass ? \"text\" : \"password\"} \n          className=\" form-control border-2 border-secondary\" \n          id=\"password\"\n          name=\"password\" value={password} \n          onChange={handleChangeInput} \n          />\n          <small onClick={() => setTypePass(!typePass)} className=\"mx-1\">\n            {typePass ? (<i className=\"fs-6 bi bi-eye-slash-fill\"/>) : (<i className=\"bi bi-eye-fill fs-6\"/>)}\n          </small>\n        </div>\n      </div>\n\n      <button type=\"submit\" className=\"btn btn-dark w-100 mt-1\"\n      disabled={(account && password) ? false : true}>\n        Login\n      </button>\n    </form>\n  )\n}\n\nexport default LoginPass\n","import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { FormSubmit } from '../../utils/TypeScript'\nimport { loginSMS } from '../../redux/actions/authAction'\n\nconst LoginSMS = () => {\n  const [phone, setPhone] = useState('')\n  const dispatch = useDispatch()\n\n  const handleSubmit = (e: FormSubmit) => {\n    e.preventDefault()\n    dispatch(loginSMS(phone))\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group mb-3\">\n        <label htmlFor=\"phone\" className=\"form-label\">Phone number</label>\n\n        <input type=\"text\" className=\"form-control border-2 border-secondary\" id=\"phone\"\n        value={phone} onChange={e => setPhone(e.target.value)}\n        placeholder=\"+84374481936\" />\n      </div>\n\n      <button type=\"submit\" className=\"btn btn-dark w-100\"\n      disabled={phone ? false : true}>\n        Login\n      </button>\n    </form>\n  )\n}\n\nexport default LoginSMS\n","import React from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { GoogleLogin, GoogleLoginResponse } from 'react-google-login-lite';\nimport { FacebookLogin, FacebookLoginAuthResponse } from 'react-facebook-login-lite';\n\nimport { googleLogin, facebookLogin } from '../../redux/actions/authAction'\n\nconst SocialLogin = () => {\n  const dispatch = useDispatch()\n\n  const onSuccess = (googleUser: GoogleLoginResponse) => {\n    const id_token = googleUser.getAuthResponse().id_token\n    dispatch(googleLogin(id_token))\n  }\n  \n  const onFBSuccess = (response: FacebookLoginAuthResponse) => {\n    const { accessToken, userID } = response.authResponse\n    dispatch(facebookLogin(accessToken, userID))\n  }\n  \n\n  return (\n    <>\n      <div className=\"my-2\">\n        <GoogleLogin \n        client_id='963922917719-2q0s1r675fd2ik0ej10i02i645gipbou.apps.googleusercontent.com'\n        cookiepolicy='single_host_origin'\n        onSuccess={onSuccess}\n        />\n      </div>\n\n      <div className=\"my-2\">\n        <FacebookLogin \n        appId=\"391546469297329\"\n        onSuccess={onFBSuccess}\n        />\n      </div>\n    </>\n  )\n}\n\nexport default SocialLogin\n","import React, { useState, useEffect } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nimport LoginPass from '../components/auth/LoginPass'\nimport LoginSMS from '../components/auth/LoginSMS'\nimport SocialLogin from '../components/auth/SocialLogin'\n\nimport { RootStore } from '../utils/TypeScript'\n\nconst Login = () => {\n  const [sms, setSms] = useState(false)\n  const history = useHistory()\n\n  const { auth } = useSelector((state: RootStore) => state)\n\n  useEffect(() => {\n    if(auth.access_token) {\n      let url = history.location.search.replace('?', '/')\n      return history.push(url)\n    }\n  },[auth.access_token, history])\n\n  return (\n    <div className=\"auth_page\">\n      <div className=\"auth_box\">\n        <h3 className=\"text-uppercase text-center mb-4\">Login</h3>\n        { sms ? <LoginSMS/> : <LoginPass /> }\n\n        <small className=\"row my-2 text-primary fw-bold\" style={{cursor: 'pointer'}}>\n          <span className=\"col-6\">\n            <Link to='/forgot_password'>\n              Forgot password?\n            </Link>\n          </span>\n        </small>\n\n        <p className=\"fw-bold text-center\">Or Login With</p>\n        <SocialLogin />\n        <p className=\"mt-4\">\n          {`If you don't have an account? `}\n          <Link to={`/register${history.location.search}`} style={{color: 'crimson'}} className=\"fw-bold\">\n            Register Now\n          </Link>\n        </p>\n      </div>\n    </div>\n  )\n}\n\nexport default Login\n","import React, { useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport { RootStore, InputChange, IUserProfile, FormSubmit } from '../../utils/TypeScript'\n\nimport NotFound from '../global/NotFound'\n\nimport { updateUser, resetPassword } from '../../redux/actions/userAction'\n\nconst UserInfo = () => {\n  const initState = {\n    name: '', account: '', avatar: '', password: '', cf_password: ''\n  }\n\n  const { auth } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  const [user, setUser] = useState<IUserProfile>(initState)\n  const [typePass, setTypePass] = useState(false)\n  const [typeCfPass, setTypeCfPass] = useState(false)\n\n\n  const handleChangeInput = (e: InputChange) => {\n    const { name, value } = e.target\n    setUser({ ...user, [name]:value })\n  }\n\n\n  const handleChangeFile = (e: InputChange) => {\n    const target = e.target as HTMLInputElement\n    const files = target.files\n\n    if(files){\n      const file = files[0]\n      setUser({...user, avatar: file})\n    }\n  } \n\n\n  const handleSubmit = (e: FormSubmit) => {\n    e.preventDefault()\n    if(avatar || name)\n      dispatch(updateUser((avatar as File), name, auth))\n\n    if(password && auth.access_token)\n      dispatch(resetPassword(password, cf_password, auth.access_token))\n  }\n\n\n  const { name, avatar, password, cf_password } = user\n\n  if(!auth.user) return <NotFound />\n  return (\n    <form className=\"profile_info\" onSubmit={handleSubmit}>\n      <div className=\"info_avatar\">\n        <img src={avatar ? URL.createObjectURL(avatar) : auth.user.avatar} \n        alt=\"avatar\" \n        />\n\n        <span>\n          <i className=\"fas fa-camera\" />\n          <p>Change</p>\n          <input type=\"file\" accept=\"image/*\"\n          name=\"file\" id=\"file_up\" \n          onChange={handleChangeFile} />\n        </span>\n      </div>\n\n      <div className=\"form-group my-3\">\n        <label htmlFor=\"name\">Name</label>\n        <input type=\"text\" className=\"form-control border-2 border-secondary\" id=\"name\"\n        name=\"name\" defaultValue={auth.user.name}\n        onChange={handleChangeInput} />\n      </div>\n\n      <div className=\"form-group my-3\">\n        <label htmlFor=\"account\">Account</label>\n        <input type=\"text\" className=\"form-control border-2 border-secondary\" id=\"account\"\n        name=\"account\" defaultValue={auth.user.account}\n        onChange={handleChangeInput} disabled={true} />\n      </div>\n\n      {\n        auth.user.type !== 'register' &&\n        <small className=\"text-danger\">\n          * Quick login account with {auth.user.type} can't use this function *\n        </small>\n      }\n\n      <div className=\"form-group my-3\">\n        <label htmlFor=\"password\">Password</label>\n\n        <div className=\"pass\">\n          <input type={typePass ? \"text\" : \"password\"} \n          className=\"form-control border-2 border-secondary\" id=\"password\"\n          name=\"password\" value={password}\n          onChange={handleChangeInput}\n          disabled={auth.user.type !== 'register'} />\n\n          <small onClick={() => setTypePass(!typePass)} className=\"mx-1\">\n            {typePass ? (<i className=\"fs-6 bi bi-eye-slash-fill\"/>) : (<i className=\"bi bi-eye-fill fs-6\"/>)}\n          </small>\n        </div>\n      </div>\n\n      <div className=\"form-group my-3\">\n        <label htmlFor=\"cf_password\">Confirm Password</label>\n\n        <div className=\"pass\">\n          <input type={typeCfPass ? \"text\" : \"password\"} \n          className=\"form-control border-2 border-secondary\" id=\"cf_password\"\n          name=\"cf_password\" value={cf_password}\n          onChange={handleChangeInput} \n          disabled={auth.user.type !== 'register'} />\n\n          <small onClick={() => setTypePass(!typeCfPass)} className=\"mx-1\">\n            {typeCfPass ? (<i className=\"fs-6 bi bi-eye-slash-fill\"/>) : (<i className=\"bi bi-eye-fill fs-6\"/>)}\n          </small>\n        </div>\n      </div>\n\n      <button className=\"btn btn-dark w-100\" type=\"submit\">\n        Update\n      </button>\n    </form>\n  )\n}\n\nexport default UserInfo\n","import React, { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport { getOtherInfo } from '../../redux/actions/userAction'\nimport { RootStore, IUser } from '../../utils/TypeScript'\n\nimport Loading from '../global/Loading'\n\n\ninterface IProps {\n  id: string\n}\n\nconst OtherInfo: React.FC<IProps> = ({id}) => {\n  const [other, setOther] = useState<IUser>()\n\n  const { otherInfo } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    if(!id) return;\n\n    if(otherInfo.every(user => user._id !== id)){\n      dispatch(getOtherInfo(id))\n    }else{\n      const newUser = otherInfo.find(user => user._id === id)\n      if(newUser) setOther(newUser)\n    }\n  },[id, otherInfo, dispatch])\n\n\n  if(!other) return <Loading />;\n  return (\n    <div className=\"profile_info text-center rounded\">\n      <div className=\"info_avatar\">\n        <img src={other.avatar} alt=\"avatar\" />\n      </div>\n\n      <h5 className=\"text-uppercase text-danger\">\n        {other.role}\n      </h5>\n\n      <div>\n        Name: <span className=\"text-info\">\n          {other.name}\n        </span>\n      </div>\n\n      <div>\n        Account\n        <span className=\"text-info\">\n          : {other.account}\n        </span>\n      </div>\n      \n\n      <div>\n        Join Date: <span style={{color: '#ffc107'}}>\n          { new Date(other.createdAt).toLocaleString() }\n        </span>\n      </div>\n    </div>\n  )\n}\n\nexport default OtherInfo","import React, { useState, useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useParams, useHistory } from 'react-router-dom'\n\nimport { IParams, RootStore, IBlog } from '../../utils/TypeScript'\n\nimport { getBlogsByUserId } from '../../redux/actions/blogAction'\n\nimport CardHoriz from '../cards/CardHoriz'\nimport Loading from '../global/Loading'\nimport Pagination from '../global/Pagination'\n\n\n\nconst UserBlogs = () => {\n  const { blogsUser } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n  const user_id = useParams<IParams>().slug\n\n  const [blogs, setBlogs] = useState<IBlog[]>()\n  const [total, setTotal] = useState(0)\n\n  const history = useHistory()\n  const { search } = history.location\n\n  useEffect(() => {\n    if(!user_id) return;\n\n    if(blogsUser.every(item => item.id !== user_id)){\n      dispatch(getBlogsByUserId(user_id, search))\n    }else{\n      const data = blogsUser.find(item => item.id === user_id)\n      if(!data) return;\n\n      setBlogs(data.blogs)\n      setTotal(data.total)\n      if(data.search) history.push(data.search)\n  }\n  },[user_id, blogsUser, dispatch, search, history])\n\n  const handlePagination = (num: number) => {\n    const search = `?page=${num}`\n    dispatch(getBlogsByUserId(user_id, search))\n  }\n\n  if(!blogs) return <Loading />;\n\n  if(blogs.length === 0 && total < 1) return(\n    <h3 className=\"text-center\">No Blogs</h3>\n  )\n\n  return (\n    <div>\n      <div>\n        {\n          blogs.map(blog => (\n            <CardHoriz key={blog._id} blog={blog}/>\n          ))\n        }\n      </div>\n\n      <div>\n        <Pagination \n        total={total}\n        callback={handlePagination}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default UserBlogs\n","import React, { useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nimport { IParams, RootStore } from '../../utils/TypeScript'\n\nimport UserInfo from '../../components/profile/UserInfo'\nimport OtherInfo from '../../components/profile/OtherInfo'\nimport UserBlogs from '../../components/profile/UserBlogs'\n\nconst Profile = () => {\n  const [checkOther,setCheckOther] = useState(false)\n  const { slug }: IParams = useParams()\n  const { auth } = useSelector((state: RootStore) => state)\n\n  return (\n    <div className=\"row my-3\">\n      <div className=\"col-md-5 mb-3\">\n        {\n          (auth.user?._id === slug)\n          ? <UserInfo />\n          : <OtherInfo id={slug} />\n        }\n      </div>\n\n      <div className=\"col-md-7\">\n        <UserBlogs />\n      </div>\n    </div>\n  )\n}\n\nexport default Profile\n","import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { InputChange, FormSubmit } from '../../utils/TypeScript'\nimport { register } from '../../redux/actions/authAction'\n\n\nconst RegisterForm = () => {\n\n  const initialState = { \n    name: '', account: '', password: '', cf_password: '' \n  }\n  const [userRegister, setUserRegister] = useState(initialState)\n  const { name, account, password, cf_password } = userRegister\n\n  const [typePass, setTypePass] = useState(false)\n  const [typeCfPass, setTypeCfPass] = useState(false)\n\n  const dispatch = useDispatch()\n\n  const handleChangeInput = (e: InputChange) => {\n    const {value, name} = e.target\n    setUserRegister({...userRegister, [name]:value})\n  }\n\n  const handleSubmit = (e: FormSubmit) => {\n    e.preventDefault()\n    dispatch(register(userRegister))\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group mb-3\">\n        <label htmlFor=\"name\" className=\"form-label\">Name</label>\n\n        <input type=\"text\" className=\"form-control border-2 border-secondary\" id=\"name\"\n        name=\"name\" value={name} onChange={handleChangeInput}\n        placeholder=\"Your name is up to 20 chars.\" />\n      </div>\n\n      <div className=\"form-group mb-3\">\n        <label htmlFor=\"account\" className=\"form-label\">\n          Account\n        </label>\n\n        <input type=\"text\" className=\"form-control border-2 border-secondary\" id=\"account\"\n        name=\"account\" value={account} onChange={handleChangeInput}\n        placeholder=\"Example@gmail.com/+84374481936\" />\n      </div>\n\n      <div className=\"form-group mb-3\">\n        <label htmlFor=\"password\" className=\"form-label\">Password</label>\n\n        <div className=\"pass\">\n          <input type={typePass ? \"text\" : \"password\"} \n          className=\"form-control border-2 border-secondary\" \n          id=\"password\"\n          name=\"password\" value={password} \n          onChange={handleChangeInput} \n          placeholder=\"Password must be at least 6 chars.\"\n          />\n\n          <small onClick={() => setTypePass(!typePass)} className=\"mx-1\">\n            {typePass ? (<i className=\"fs-6 bi bi-eye-slash-fill\"/>) : (<i className=\"bi bi-eye-fill fs-6\"/>)}\n          </small>\n        </div>\n      </div>\n\n      <div className=\"form-group mb-3\">\n        <label htmlFor=\"password\" className=\"form-label\">\n          Confirm Password\n        </label>\n\n        <div className=\"pass\">\n          <input type={typeCfPass ? \"text\" : \"password\"} \n          className=\"form-control border-2 border-secondary\" \n          id=\"cf_password\"\n          name=\"cf_password\" value={cf_password} \n          onChange={handleChangeInput} \n          placeholder=\"Your confirm password.\"\n          />\n\n          <small onClick={() => setTypeCfPass(!typeCfPass)} className=\"mx-1\">\n            {typeCfPass ? (<i className=\"fs-6 bi bi-eye-slash-fill\"/>) : (<i className=\"bi bi-eye-fill fs-6\"/>)}\n          </small>\n        </div>\n      </div>\n\n      <button type=\"submit\" className=\"btn btn-dark w-100 my-1\">\n        Register\n      </button>\n    </form>\n  )\n}\n\nexport default RegisterForm\n","import React from 'react'\nimport { Link, useHistory } from 'react-router-dom'\n\nimport RegisterForm from '../components/auth/RegisterForm'\n\nconst Register = () => {\n  const history = useHistory()\n\n  return (\n    <div className=\"auth_page\">\n      <div className=\"auth_box\">\n        <h3 className=\"text-uppercase text-center mb-4\">Register</h3>\n\n        <RegisterForm />\n        \n        <p className=\"mt-3\">\n          {`Already have an account? `}\n          <Link to={`/login${history.location.search}`} style={{color: 'crimson'}} className=\"fw-bold\">\n            Login Now\n          </Link>\n        </p>\n\n      </div>\n    </div>\n  )\n}\n\nexport default Register\n","var map = {\n\t\"./\": 72,\n\t\"./active/[slug]\": 83,\n\t\"./active/[slug].tsx\": 83,\n\t\"./blog/[slug]\": 110,\n\t\"./blog/[slug].tsx\": 110,\n\t\"./blogs/[slug]\": 105,\n\t\"./blogs/[slug].tsx\": 105,\n\t\"./category\": 106,\n\t\"./category.tsx\": 106,\n\t\"./create_blog\": 57,\n\t\"./create_blog.tsx\": 57,\n\t\"./forgot_password\": 107,\n\t\"./forgot_password.tsx\": 107,\n\t\"./index\": 72,\n\t\"./index.tsx\": 72,\n\t\"./login\": 111,\n\t\"./login.tsx\": 111,\n\t\"./profile/[slug]\": 112,\n\t\"./profile/[slug].tsx\": 112,\n\t\"./register\": 113,\n\t\"./register.tsx\": 113,\n\t\"./reset_password/[slug]\": 108,\n\t\"./reset_password/[slug].tsx\": 108,\n\t\"./update_blog/[slug]\": 109,\n\t\"./update_blog/[slug].tsx\": 109\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 127;","import { IComment } from '../../utils/TypeScript'\n\nexport const CREATE_COMMENT = \"CREATE_COMMENT\"\nexport const GET_COMMENTS = \"GET_COMMENTS\"\nexport const REPLY_COMMENT = \"REPLY_COMMENT\"\nexport const UPDATE_COMMENT = \"UPDATE_COMMENT\"\nexport const UPDATE_REPLY = \"UPDATE_REPLY\"\nexport const DELETE_COMMENT = \"DELETE_COMMENT\"\nexport const DELETE_REPLY = \"DELETE_REPLY\"\n\nexport interface ICommentState {\n  data: IComment[],\n  total: number\n}\n\nexport interface ICreateCommentType {\n  type: typeof CREATE_COMMENT,\n  payload: IComment\n}\n\nexport interface IGetCommentsType {\n  type: typeof GET_COMMENTS,\n  payload: ICommentState\n}\n\nexport interface IReplyCommentType {\n  type: typeof REPLY_COMMENT,\n  payload: IComment\n}\n\nexport interface IUpdateType {\n  type: typeof UPDATE_COMMENT | typeof UPDATE_REPLY,\n  payload: IComment\n}\n\nexport interface IDeleteType {\n  type: typeof DELETE_COMMENT | typeof DELETE_REPLY,\n  payload: IComment\n}\n\n\n\nexport type ICommentType = \n| ICreateCommentType\n| IGetCommentsType\n| IReplyCommentType\n| IUpdateType\n| IDeleteType","import { Dispatch } from 'redux'\nimport { AUTH, IAuthType } from '../types/authType'\nimport { ALERT, IAlertType } from '../types/alertType'\n\nimport { IUserLogin, IUserRegister } from '../../utils/TypeScript'\nimport { postAPI, getAPI } from '../../utils/FetchData'\nimport { validRegister, validPhone } from '../../utils/Valid'\n\n\nexport const login = (userLogin: IUserLogin) => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n\n    const res = await postAPI('login', userLogin)\n    \n    dispatch({ type: AUTH,payload: res.data })\n\n    dispatch({ type: ALERT, payload: { success: res.data.msg } })\n    localStorage.setItem('logged', 'devat-channel')\n    \n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\n\nexport const register = (userRegister: IUserRegister) => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  const check = validRegister(userRegister)\n  \n  if(check.errLength > 0)\n    return dispatch({ type: ALERT, payload: { errors: check.errMsg } })\n\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n    \n    const res = await postAPI('register', userRegister)\n\n    dispatch({ type: ALERT, payload: { success: res.data.msg } })\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\n\nexport const refreshToken = () => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  const logged = localStorage.getItem('logged')\n  if(logged !== 'devat-channel') return;\n\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n    \n    const res = await getAPI('refresh_token')\n    \n    dispatch({ type: AUTH,payload: res.data })\n\n    dispatch({ type: ALERT, payload: { } })\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\n\nexport const logout = () => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  try {\n    localStorage.removeItem('logged')\n    dispatch({ type: AUTH, payload: { } })\n    await getAPI('logout')\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\nexport const googleLogin = (id_token: string) => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n\n    const res = await postAPI('google_login', { id_token })\n    \n    dispatch({ type: AUTH,payload: res.data })\n\n    dispatch({ type: ALERT, payload: { success: res.data.msg } })\n    localStorage.setItem('logged', 'devat-channel')\n    \n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\nexport const facebookLogin = (accessToken: string, userID: string) => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n\n    const res = await postAPI('facebook_login', { accessToken, userID })\n    \n    dispatch({ type: AUTH,payload: res.data })\n\n    dispatch({ type: ALERT, payload: { success: res.data.msg } })\n    localStorage.setItem('logged', 'devat-channel')\n    \n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\n\nexport const loginSMS = (phone: string) => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  const check = validPhone(phone)\n  if(!check) \n    return dispatch({ \n      type: ALERT, \n      payload: { errors: 'Phone number format is incorrect.' }\n    });\n\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n\n    const res = await postAPI('login_sms', { phone })\n    \n    if(!res.data.valid)\n      verifySMS(phone, dispatch)\n    \n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\nexport const verifySMS = async (\n  phone: string, dispatch: Dispatch<IAuthType | IAlertType>\n) => {\n    const code = prompt('Enter your code')\n    if(!code) return;\n\n    try {\n      dispatch({ type: ALERT, payload: { loading: true } })\n\n      const res = await postAPI('sms_verify', { phone, code })\n      \n      dispatch({ type: AUTH,payload: res.data })\n\n      dispatch({ type: ALERT, payload: { success: res.data.msg } })\n      localStorage.setItem('logged', 'devat-channel')\n    } catch (err: any) {\n      dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n      setTimeout(() => {\n        verifySMS(phone, dispatch)\n      }, 100);\n    }\n    \n}\n\n\nexport const forgotPassword = (account: string) => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n\n    const res = await postAPI('forgot_password', { account })\n\n    dispatch({ type: ALERT, payload: { success: res.data.msg } })\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n} ","import { Dispatch } from 'redux'\nimport { IBlog } from '../../utils/TypeScript'\nimport { imageUpload } from '../../utils/ImageUpload'\nimport { postAPI, getAPI, putAPI, deleteAPI } from '../../utils/FetchData'\n\nimport { ALERT, IAlertType } from '../types/alertType'\n\nimport {\n  GET_HOME_BLOGS,\n  IGetHomeBlogsType,\n  GET_BLOGS_CATEGORY_ID,\n  IGetBlogsCategoryType,\n  GET_BLOGS_USER_ID,\n  IGetBlogsUserType,\n  DELETE_BLOGS_USER_ID,\n  IDeleteBlogsUserType,\n  CREATE_BLOGS_USER_ID,\n  ICreateBlogsUserType\n} from '../types/blogType'\n\nexport const createBlog = (blog: IBlog, token: string) => \nasync (dispatch: Dispatch<IAlertType|ICreateBlogsUserType>) => {\n  let url;\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n    \n    if(typeof(blog.thumbnail) !== 'string'){\n      const photo = await imageUpload(blog.thumbnail)\n      url = photo.url\n    }else{\n      url = blog.thumbnail\n    }\n    \n    const newBlog = {...blog, thumbnail: url}\n    \n    const res = await postAPI('blog', newBlog, token)\n    \n    dispatch({\n      type: CREATE_BLOGS_USER_ID,\n      payload: res.data\n    })\n\n    dispatch({ type: ALERT, payload: { loading: false } })\n    \n  } catch (err: any) {\n\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg} })\n  }\n}\n\n\nexport const getHomeBlogs = () => \nasync (dispatch: Dispatch<IAlertType | IGetHomeBlogsType>) => {\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n\n    const res = await getAPI('home/blogs')\n    dispatch({\n      type: GET_HOME_BLOGS,\n      payload: res.data\n    })\n    \n    dispatch({ type: ALERT, payload: { loading: false } })\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg} })\n  }\n}\n\n\nexport const getBlogsByCategoryId = (id: string, search: string) => \nasync (dispatch: Dispatch<IAlertType | IGetBlogsCategoryType>) => {\n  try {\n    let limit = 8;\n    let value = search ? search : `?page=${1}`;\n\n    dispatch({ type: ALERT, payload: { loading: true } })\n\n    const res = await getAPI(`blogs/category/${id}${value}&limit=${limit}`)\n\n    dispatch({\n      type: GET_BLOGS_CATEGORY_ID,\n      payload: {...res.data, id, search }\n    })\n    \n    dispatch({ type: ALERT, payload: { loading: false } })\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg} })\n  }\n}\n\n\nexport const getBlogsByUserId = (id: string, search: string) => \nasync (dispatch: Dispatch<IAlertType | IGetBlogsUserType>) => {\n  try {\n    let limit = 3;\n    let value = search ? search : `?page=${1}`;\n\n    dispatch({ type: ALERT, payload: { loading: true } })\n\n    const res = await getAPI(`blogs/user/${id}${value}&limit=${limit}`)\n\n    dispatch({\n      type: GET_BLOGS_USER_ID,\n      payload: {...res.data, id, search }\n    })\n    \n    dispatch({ type: ALERT, payload: { loading: false } })\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg} })\n  }\n}\n\nexport const updateBlog = (blog: IBlog, token: string) => \nasync (dispatch: Dispatch<IAlertType>) => {\n  let url;\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n\n    if(typeof(blog.thumbnail) !== 'string'){\n      const photo = await imageUpload(blog.thumbnail)\n      url = photo.url\n    }else{\n      url = blog.thumbnail\n    }\n\n    const newBlog = {...blog, thumbnail: url}\n\n    const res = await putAPI(`blog/${newBlog._id}`, newBlog, token)\n\n    dispatch({ type: ALERT, payload: { success: res.data.msg } })\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg} })\n  }\n} \n\nexport const deleteBlog = (blog: IBlog, token: string) => \nasync (dispatch: Dispatch<IAlertType | IDeleteBlogsUserType>) => {\n  try {\n    dispatch({\n      type: DELETE_BLOGS_USER_ID,\n      payload: blog\n    })\n\n    await deleteAPI(`blog/${blog._id}`, token)\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg} })\n  }\n}","import { IBlog } from '../../utils/TypeScript'\n\nexport const GET_HOME_BLOGS = \"GET_HOME_BLOGS\"\nexport const GET_BLOGS_CATEGORY_ID = \"GET_BLOGS_CATEGORY_ID\"\nexport const GET_BLOGS_USER_ID = \"GET_BLOGS_USER_ID\"\nexport const CREATE_BLOGS_USER_ID = \"CREATE_BLOGS_USER_ID\"\nexport const DELETE_BLOGS_USER_ID = \"DELETE_BLOGS_USER_ID\"\n\nexport interface IHomeBlogs {\n  _id: string\n  name: string\n  count: number\n  blogs: IBlog[]\n}\n\nexport interface IGetHomeBlogsType {\n  type: typeof GET_HOME_BLOGS,\n  payload: IHomeBlogs[]\n}\n\nexport interface IBlogsCategory {\n  id: string\n  blogs: IBlog[]\n  total: number\n  search: string\n}\n\nexport interface IGetBlogsCategoryType {\n  type: typeof GET_BLOGS_CATEGORY_ID,\n  payload: IBlogsCategory\n}\n\nexport interface IBlogsUser {\n  id: string\n  blogs: IBlog[]\n  total: number\n  search: string\n}\n\nexport interface IGetBlogsUserType {\n  type: typeof GET_BLOGS_USER_ID,\n  payload: IBlogsUser\n}\n\nexport interface ICreateBlogsUserType {\n  type: typeof CREATE_BLOGS_USER_ID,\n  payload: IBlog\n}\n\nexport interface IDeleteBlogsUserType {\n  type: typeof DELETE_BLOGS_USER_ID,\n  payload: IBlog\n}\n\nexport type IBlogUserType = \n| IGetBlogsUserType\n| ICreateBlogsUserType\n| IDeleteBlogsUserType ","import React from 'react'\n\nconst Loading = () => {\n  return (\n    <div className=\"d-flex justify-content-center my-4\">\n      <div className=\"spinner-border\" role=\"status\">\n        <span className=\"visually-hidden\">Loading...</span>\n      </div>\n    </div>\n  )\n}\n\nexport default Loading\n","import { IUser } from '../../utils/TypeScript'\n\nexport const AUTH = 'AUTH'\n\nexport interface IAuth {\n  msg?: string\n  access_token?: string\n  user?: IUser\n}\n\nexport interface IAuthType{\n  type: typeof AUTH\n  payload: IAuth\n}","import { ICategory } from '../../utils/TypeScript'\n\nexport const CREATE_CATEGORY = 'CREATE_CATEGORY'\nexport const GET_CATEGORIES = 'GET_CATEGORIES'\nexport const UPDATE_CATEGORY = 'UPDATE_CATEGORY'\nexport const DELETE_CATEGORY = 'DELETE_CATEGORY'\n\n\nexport interface ICreateCatery{\n  type: typeof CREATE_CATEGORY\n  payload: ICategory\n}\n\nexport interface IGetCategories{\n  type: typeof GET_CATEGORIES\n  payload: ICategory[]\n}\n\nexport interface IUpdateCategory{\n  type: typeof UPDATE_CATEGORY\n  payload: ICategory\n}\n\nexport interface IDeleteCategory{\n  type: typeof DELETE_CATEGORY\n  payload: string\n}\n\nexport type ICategoryType = \n| ICreateCatery \n| IGetCategories\n| IUpdateCategory\n| IDeleteCategory\n","import React from 'react'\nimport { useParams } from 'react-router-dom'\nimport { IParams } from './utils/TypeScript'\nimport NotFound from './components/global/NotFound'\n\n\nconst generatePage = (name: string) => {\n  const component = () => require(`./pages/${name}`).default\n\n  try {\n    return React.createElement(component())\n  } catch (err) {\n    return <NotFound />;\n  }\n}\n\nconst PageRender = () => {\n  const { page, slug }: IParams = useParams()\n\n  let name = '';\n\n  if(page){\n    name = slug ? `${page}/[slug]` : `${page}`\n  }\n\n  return generatePage(name)\n}\n\nexport default PageRender\n","import React, { useState, useEffect } from 'react'\nimport { useLocation } from 'react-router-dom'\n\nimport { getAPI } from '../../utils/FetchData'\nimport { IBlog } from '../../utils/TypeScript'\n\nimport CardHoriz from '../cards/CardHoriz'\n\nconst Search = () => {\n  const [search, setSearch] = useState('')\n  const [blogs, setBlogs] = useState<IBlog[]>([])\n\n  const { pathname } = useLocation()\n\n  useEffect(() => {\n    const delayDebounce = setTimeout(async () => {\n      if(search.length < 2) return setBlogs([]);\n\n      try {\n        const res = await getAPI(`search/blogs?title=${search}`)\n        setBlogs(res.data)\n      } catch (err) {\n        console.log(err)\n      }\n    }, 400)\n\n    return () => clearTimeout(delayDebounce)\n  },[search])\n\n\n  useEffect(() => {\n    setSearch('')\n    setBlogs([])\n  },[pathname])\n\n  return (\n    <div className=\"search position-relative me-4\" style={{width:'70%'}}>\n      <input type=\"text\" className=\"form-control border-2 border-secondary me-2 w-100\"\n      value={search} placeholder=\"Enter your search...\"\n      onChange={e => setSearch(e.target.value)}  />\n\n      {\n        search.length >= 2 &&\n        <div className=\"position-absolute pt-2 px-1 w-100 rounded border border-secondary border-2\"\n        style={{\n          background: '#eee', zIndex: 10,\n          maxHeight: 'calc(100vh - 100px)',\n          overflow: 'auto'\n        }}>\n          {\n            blogs.length\n            ? blogs.map(blog => (\n              <CardHoriz key={blog._id} blog={blog} />\n            ))\n            : <h3 className=\"text-center\">No Blogs</h3>\n          }\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default Search","import React from 'react'\nimport { Link, useLocation } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { RootStore } from '../../utils/TypeScript'\nimport { logout } from '../../redux/actions/authAction'\n\nconst Menu = () => {\n  const { auth } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  const { pathname } = useLocation()\n\n  const bfLoginLinks = [\n    { label: 'Login', path: '/login' },\n    { label: 'Register', path: '/register' }\n  ]\n\n  const afLoginLinks = [\n    { label: 'Home', path: '/' },\n    { label: 'CreateBlog', path: '/create_blog' }\n  ]\n\n  const navLinks = auth.access_token ? afLoginLinks : bfLoginLinks\n  \n  const isActive = (pn: string) => {\n    if(pn === pathname) return 'active';\n  }\n\n  return (\n    <ul className=\"navbar-nav mx-auto mt-2\">\n      {\n        navLinks.map((link, index) => (\n          <li key={index} className={`nav-item ${isActive(link.path)} ms-3`}>\n            <Link className=\"headera nav-link fw-bold \" to={link.path}>{link.label}</Link>\n          </li>\n        ))\n      }\n\n      {\n        auth.user?.role === 'admin' &&\n        <li className={`nav-item ${isActive(\"/category\")} ms-3`}>\n          <Link to=\"/category\" className=\"headera nav-link fw-bold\">Category</Link>\n        </li>\n      }\n      \n      {\n        auth.user &&\n        <li className=\"nav-item dropdown ms-3\">\n          <span className=\"nav-link\" id=\"navbarDropdown\" role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n            <img src={auth.user.avatar} alt=\"avatar\" className=\"avatar\" />\n          </span>\n\n          <ul className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\" style={{position: \"absolute\",left: \"-20px\", minWidth:\"0\"}}>\n            <li>\n              <Link className=\"dropdown-item dropdown-menu-right\" \n              to={`/profile/${auth.user._id}`}\n              >\n                Profile\n              </Link>\n            </li>\n\n            <li><hr className=\"dropdown-divider\" /></li>\n\n            <li>\n              <Link className=\"dropdown-item\" to=\"/\"\n              onClick={() => dispatch(logout())}>\n                Logout\n              </Link>\n            </li>\n\n          </ul>\n        </li>\n      }\n      \n    </ul>\n  )\n}\n\nexport default Menu\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport Search from './Search'\nimport Menu from './Menu'\n\nconst Header = () => {\n  return (\n    <nav className=\"navbar navbar-expand-lg bg-dark p-3\">\n        <Link className=\" navbar-brand text-light fw-bold\" to=\"/\">QT BLOG</Link>\n\n        <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n        <i className=\"bi bi-list-ul text-light\"></i>\n        </button>\n\n        <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n          <Search />\n          <Menu />\n        </div>\n    </nav>\n  )\n}\n\nexport default Header\n","import React from 'react'\n\nconst Footer = () => {\n  return (\n    <footer className=\"bg-dark text-center text-white mt-10\">\n\n      <div className=\"container-fluid\" >\n\n        <section className=\"bg-dark py-2\" >\n        <a\n          className=\"btn btn-primary btn-floating m-1 border boder-light\"\n          style={{backgroundColor: \"#3b5998\"}}\n          href=\"#!\"\n          role=\"button\"\n          ><i className=\"fab fa-facebook\"></i\n        ></a>\n\n\n        <a\n          className=\"btn btn-primary btn-floating m-1 border boder-light\"\n          style={{backgroundColor: \"#dd4b39\"}}\n          href=\"#!\"\n          role=\"button\"\n          ><i className=\"fab fa-google\"></i\n        ></a>\n\n        <a\n          className=\"btn btn-primary btn-floating m-1 border boder-light\"\n          style={{backgroundColor: \"#0082ca\"}}\n          href=\"#!\"\n          role=\"button\"\n          ><i className=\"fab fa-linkedin-in\"></i\n        ></a>\n\n        <a\n          className=\"btn btn-primary btn-floating m-1 border boder-light\"\n          style={{backgroundColor: \"#333333\"}}\n          href=\"#!\"\n          role=\"button\"\n          ><i className=\"fab fa-github\"></i\n        ></a>\n        </section>\n    \n        <div className=\"row text-md-start p-3 w-100 \" style={{backgroundColor:'#343a40', margin:'0'}}>\n          <div className=\"col-lg-6 col-md-12 mb-4 mb-md-0\">\n            <h5 className=\"text-uppercase\" style={{color:\"white\"}}>About Me</h5>\n\n            <p>\n              Lorem ipsum dolor sit amet consectetur, adipisicing elit. Iste atque ea quis\n              molestias. Fugiat pariatur maxime quis culpa corporis vitae repudiandae\n              aliquam voluptatem veniam, est atque cumque eum delectus sint!\n              Fugiat pariatur maxime quis culpa corporis vitae repudiandae\n              aliquam voluptatem veniam, est atque cumque eum delectus sint!\n            </p>\n          </div>\n          <div className=\"col-lg-3 col-md-6 mb-4 mb-md-0\">\n            <h5 className=\"text-uppercase\"style={{color:\"white\"}}>Working Time</h5>\n\n            <ul className=\"list-unstyled mb-0\">\n              <li>\n                T2 - T6 : 8:00 - 17:00\n              </li>\n              <li>\n                T7 - CN : 8:00 - 20:00\n              </li>\n            </ul>\n          </div>\n\n          <div className=\"col-lg-3 col-md-6 mb-4 mb-md-0\">\n            <h5 className=\"text-uppercase \"style={{color:\"white\"}}>Contact</h5>\n\n            <ul className=\"list-unstyled\">\n              <li className=\"mt-1\">\n                Address: 51 Luong truc dam, Hoa Minh, Lien Chieu, Da Nang\n              </li>\n              <li className=\"mt-1\">\n                Email: quangtung20@gmail.com\n              </li>\n              <li className=\"mt-1\">\n                Phone: +8413456789\n              </li>\n              <li className=\"mt-1\">\n                Fax: +012347654\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"text-center p-3\" style={{backgroundColor: \"rgba(0, 0, 0, 0.2)\"}}>\n         2022 Copyright: \n        <strong> Quang Tung Napa Global</strong>\n      </div>\n\n    </footer>\n  )\n}\n\nexport default Footer\n","import React, { useEffect } from 'react'\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\nimport { useDispatch } from 'react-redux'\n\nimport PageRender from './PageRender'\nimport Header from './components/global/Header'\nimport Footer from './components/global/Footer'\n\nimport { Alert } from './components/alert/Alert'\n\nimport { refreshToken } from './redux/actions/authAction'\nimport { getCategories } from './redux/actions/categoryAction'\nimport { getHomeBlogs } from './redux/actions/blogAction'\n\n\nconst App = () => {\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(getCategories())\n    dispatch(refreshToken())\n    dispatch(getHomeBlogs())\n  },[dispatch])\n\n  return (\n    <div className=\"container-fluid\">\n      <Router>\n        <Alert />\n        <Header />\n        <div className=\"container\">\n          <Switch>\n            <Route exact path=\"/\" component={PageRender} />\n            <Route exact path=\"/:page\" component={PageRender} />\n            <Route exact path=\"/:page/:slug\" component={PageRender} />\n        </Switch>\n        </div>\n        <Footer/>\n      </Router>\n    </div>\n  )\n}\n\nexport default App\n\n","import { AUTH, IAuth, IAuthType } from '../types/authType'\n\n\nconst authReducer = (state: IAuth = {}, action: IAuthType): IAuth => {\n  switch (action.type){\n    case AUTH:\n      return action.payload\n    default:\n      return state\n  }\n}\n\nexport default authReducer;","import { ALERT, IAlertType } from '../types/alertType'\nimport { IAlert } from '../../utils/TypeScript'\n\n\nconst alertReducer = (state: IAlert = {}, action: IAlertType): IAlert => {\n  switch (action.type){\n    case ALERT:\n      return action.payload\n    default:\n      return state\n  }\n}\n\nexport default alertReducer;","import * as types from '../types/categoryType'\nimport { ICategory } from '../../utils/TypeScript'\n\nconst categoryReducer = (\n  state: ICategory[] = [], action: types.ICategoryType\n): ICategory[] => {\n  switch (action.type) {\n    case types.CREATE_CATEGORY:\n      return [action.payload, ...state]\n\n    case types.GET_CATEGORIES:\n      return action.payload\n\n    case types.UPDATE_CATEGORY:\n      return state.map(item => (\n        item._id === action.payload._id\n        ? { ...item, name: action.payload.name}\n        : item\n      ))\n\n    case types.DELETE_CATEGORY:\n      return state.filter(item => item._id !== action.payload)\n      \n    default:\n      return state;\n  }\n}\n\nexport default categoryReducer;","import {\n  GET_HOME_BLOGS,\n  IGetHomeBlogsType,\n  IHomeBlogs\n} from '../types/blogType'\n\n\nconst homeBlogsReducer = (\n  state: IHomeBlogs[] = [],\n  action: IGetHomeBlogsType\n): IHomeBlogs[] => {\n  switch (action.type){\n    case GET_HOME_BLOGS:\n      return action.payload\n\n    default:\n      return state\n  }\n}\n\n\nexport default homeBlogsReducer","import {\n  GET_BLOGS_CATEGORY_ID,\n  IBlogsCategory,\n  IGetBlogsCategoryType\n} from '../types/blogType'\n\n\nconst blogsCategoryReducer = (\n  state: IBlogsCategory[] = [],\n  action: IGetBlogsCategoryType\n): IBlogsCategory[] => {\n  switch(action.type){\n    case GET_BLOGS_CATEGORY_ID:\n      if(state.every(item => item.id !== action.payload.id)){\n        return [...state, action.payload]\n\n      }else{\n        return state.map(blog => (\n          blog.id === action.payload.id\n          ? action.payload\n          : blog\n        ))\n      }\n\n    default:\n      return state;\n  }\n}\n\n\nexport default blogsCategoryReducer;","import { IUser } from '../../utils/TypeScript'\nimport {\n  GET_OTHER_INFO,\n  IGetOtherInfoType\n} from '../types/profileType'\n\n\nconst otherInfoReducer = (\n  state: IUser[] = [],\n  action: IGetOtherInfoType\n): IUser[] => {\n  switch(action.type){\n    case GET_OTHER_INFO:\n      return [...state, action.payload]\n\n    default:\n      return state\n  }\n}\n\nexport default otherInfoReducer","import { IUser } from '../../utils/TypeScript'\n\nimport {\n  IBlogsUser,\n  GET_BLOGS_USER_ID,\n  CREATE_BLOGS_USER_ID,\n  DELETE_BLOGS_USER_ID,\n  IBlogUserType\n} from '../types/blogType'\n\n\nconst blogsUserReducer = (\n  state: IBlogsUser[] = [],\n  action: IBlogUserType\n): IBlogsUser[] => {\n  switch(action.type){\n    case GET_BLOGS_USER_ID:\n      if(state.every(item => item.id !== action.payload.id)){\n        return [...state, action.payload]\n\n      }else{\n        return state.map(item => (\n          item.id === action.payload.id\n          ? action.payload\n          : item\n        ))\n      }\n    \n    case CREATE_BLOGS_USER_ID:\n      console.log(state);\n      return state.map(item => (\n        \n        item.id === (action.payload.user as IUser)._id\n        ? {\n          ...item,\n          blogs: [action.payload, ...item.blogs]\n        }\n        : item\n      ))\n\n    case DELETE_BLOGS_USER_ID:\n      return state.map(item => (\n        item.id === (action.payload.user as IUser)._id\n        ? {\n          ...item,\n          blogs: item.blogs.filter(blog => (\n            blog._id !== action.payload._id\n          ))\n        }\n        : item\n      ))\n    default:\n      return state;\n  }\n}\n\n\nexport default blogsUserReducer;","import {\n  ICommentState,\n  CREATE_COMMENT,\n  GET_COMMENTS,\n  REPLY_COMMENT,\n  UPDATE_COMMENT,\n  UPDATE_REPLY,\n  DELETE_COMMENT,\n  DELETE_REPLY,\n  ICommentType\n} from '../types/commentType'\n\nconst initialState = {\n  data: [],\n  total: 1\n}\n\n\nconst commentReducer = (\n  state: ICommentState = initialState,\n  action: ICommentType\n): ICommentState => {\n  switch(action.type){\n    case CREATE_COMMENT:\n      return{\n        ...state,\n        data: [action.payload, ...state.data]\n      }\n    \n    case GET_COMMENTS:\n      return action.payload\n\n    case REPLY_COMMENT:\n      return {\n        ...state,\n        data: state.data.map(item => (\n          item._id === action.payload.comment_root\n          ? {\n            ...item,\n            replyCM: [\n              action.payload,\n              ...item.replyCM as []\n            ]\n          }\n          : item\n        ))\n      }\n\n    case UPDATE_COMMENT:\n      return{\n        ...state,\n        data: state.data.map(item => (\n          item._id === action.payload._id\n          ? action.payload\n          : item\n        ))\n      }\n\n    case UPDATE_REPLY:\n      return{\n        ...state,\n        data: state.data.map(item => (\n          item._id === action.payload.comment_root\n          ? {\n            ...item,\n            replyCM: item.replyCM?.map(rp => (\n              rp._id === action.payload._id\n              ? action.payload\n              : rp\n            ))\n          }\n          : item\n        ))\n      }\n      \n    case DELETE_COMMENT:\n      return{\n        ...state,\n        data: state.data.filter(item => \n          item._id !== action.payload._id\n        )\n      }\n\n    case DELETE_REPLY:\n      return{\n        ...state,\n        data: state.data.map(item => (\n          item._id === action.payload.comment_root\n          ? {\n            ...item,\n            replyCM: item.replyCM?.filter(rp => (\n              rp._id !== action.payload._id\n            ))\n          }\n          : item\n        ))\n      }\n      \n    default:\n      return state\n  }\n}\n\n\nexport default commentReducer","import { combineReducers } from 'redux'\nimport auth from './authReducer'\nimport alert from './alertReducer'\nimport categories from './categoryReducer'\nimport homeBlogs from './homeBlogsReducer'\nimport blogsCategory from './blogsCategoryReducer'\nimport otherInfo from './otherInfoReducer'\nimport blogsUser from './blogsUserReducer'\nimport comments from './commentReducer'\n\nexport default combineReducers({\n  auth,\n  alert,\n  categories,\n  homeBlogs,\n  blogsCategory,\n  otherInfo,\n  blogsUser,\n  comments\n})","import { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\n\nimport rootReducer from './reducers/index'\n\nimport { composeWithDevTools } from 'redux-devtools-extension'\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(applyMiddleware(thunk))\n)\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\nimport { Provider } from 'react-redux'\nimport store from './redux/store'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n","export const checkImage = (file: File) => {\n  const types = ['image/png', 'image/jpeg']\n  let err = ''\n  if(!file) return err = \"File does not exist.\"\n\n  if(file.size > 1024 * 1024) // 1mb\n    err = \"The largest image size is 1mb\"\n\n  if(!types.includes(file.type))\n    err = \"The image type is png / jpeg\"\n\n  return err;\n}\n\nexport const imageUpload = async (file: File) => {\n  const formData = new FormData()\n  formData.append(\"file\", file)\n  formData.append(\"upload_preset\", \"xwqohnif\")\n  formData.append(\"cloud_name\", \"devat-channel\")\n\n  const res = await fetch(\"https://api.cloudinary.com/v1_1/devat-channel/upload\", {\n    method: \"POST\",\n    body: formData\n  })\n\n  const data = await res.json()\n  return { public_id: data.public_id, url: data.secure_url };\n}","import { IAlert } from '../../utils/TypeScript'\n\nexport const ALERT = 'ALERT'\n\nexport interface IAlertType {\n  type: typeof ALERT\n  payload: IAlert\n}","import React from \"react\";\n\nconst NotFound = () => {\n  return (\n    <div\n      className=\"position-relative\"\n      style={{ minHeight: \"calc(100vh - 70px)\" }}\n    >\n      <h2\n        className=\"position-absolute text-secondary\"\n        style={{ top: \"50%\", left: \"50%\", transform: \"translate(-50%, -50%)\" }}\n      >\n        404 | NotFound\n      </h2>\n    </div>\n  );\n};\n\nexport default NotFound;\n","import { IUserRegister, IBlog } from './TypeScript'\n\nexport const validRegister = (userRegister: IUserRegister) => {\n  const { name, account, password, cf_password } = userRegister;\n  const errors: string[] = [];\n\n  if(!name){\n    errors.push(\"Please add your name.\")\n  }else if(name.length > 20){\n    errors.push(\"Your name is up to 20 chars long.\")\n  }\n\n  if(!account){\n    errors.push(\"Please add your email or phone number.\")\n  }else if(!validPhone(account) && !validateEmail(account)){\n    errors.push(\"Email or phone number format is incorrect.\")\n  }\n\n  const msg = checkPassword(password, cf_password)\n  if(msg) errors.push(msg)\n\n  return {\n    errMsg: errors,\n    errLength: errors.length\n  }\n}\n\n\nexport const checkPassword = (password: string, cf_password: string) => {\n  if(password.length < 6){\n    return (\"Password must be at least 6 chars.\")\n  }else if(password !== cf_password){\n    return (\"Confirm password did not match.\")\n  }\n}\n\nexport function validPhone(phone: string) {\n  const re = /^[+]/g\n  return re.test(phone)\n}\n\nexport function validateEmail(email: string) {\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n}\n\n\n// Valid Blog\nexport const validCreateBlog = ({\n  title, content, description, thumbnail, category\n}: IBlog) => {\n  const err: string[] = []\n\n  if(title.trim().length < 10){\n    err.push(\"Title has at least 10 characters.\")\n  }else if(title.trim().length > 50){\n    err.push(\"Title is up to 50 characters long.\")\n  }\n\n  if(content.trim().length < 2000){\n    err.push(\"Content has at least 2000 characters.\")\n  }\n\n  if(description.trim().length < 50){\n    err.push(\"Description has at least 50 characters.\")\n  }else if(description.trim().length > 200){\n    err.push(\"Description is up to 200 characters long.\")\n  }\n\n  if(!thumbnail){\n    err.push(\"Thumbnail cannot be left blank.\")\n  }\n\n  if(!category){\n    err.push(\"Category cannot be left blank.\")\n  }\n\n  return {\n    errMsg: err,\n    errLength: err.length\n  }\n\n}\n\nexport const shallowEqual = (object1: any, object2: any) => {\n  const keys1 = Object.keys(object1)\n  const keys2 = Object.keys(object2)\n\n  if(keys1.length !== keys2.length) {\n    return false;\n  }\n\n  for(let key of keys1) {\n    if(object1[key] !== object2[key]){\n      return false;\n    }\n  }\n\n  return true;\n}","import { Dispatch } from 'redux'\nimport { IAuth, IAuthType, AUTH } from '../types/authType'\nimport { IAlertType, ALERT } from '../types/alertType'\n\nimport { checkImage, imageUpload } from '../../utils/ImageUpload'\nimport { patchAPI, getAPI } from '../../utils/FetchData'\nimport { checkPassword } from '../../utils/Valid'\n\nimport { \n  GET_OTHER_INFO,\n  IGetOtherInfoType\n} from '../types/profileType'\n\n\nexport const updateUser = (\n  avatar: File, name: string, auth: IAuth\n) => async (dispatch: Dispatch<IAlertType | IAuthType>) => {\n  if(!auth.access_token || !auth.user) return;\n\n  let url = '';\n  try {\n    dispatch({ type: ALERT, payload: {loading: true}})\n    if(avatar){\n      const check = checkImage(avatar)\n      if(check) \n        return dispatch({ type: ALERT,payload: { errors: check } })\n\n      const photo = await imageUpload(avatar)\n      url = photo.url\n    }\n\n    dispatch({ \n      type: AUTH,\n      payload: {\n        access_token: auth.access_token,\n        user: {\n          ...auth.user,\n          avatar: url ? url : auth.user.avatar, \n          name: name ? name : auth.user.name\n        }\n      } \n    })\n\n    const res = await patchAPI('user', { \n      avatar: url ? url : auth.user.avatar, \n      name: name ? name : auth.user.name\n    }, auth.access_token)\n\n    dispatch({ type: ALERT, payload: {success: res.data.msg}})\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg}})\n  }\n}\n\n\nexport const resetPassword = (\n  password: string, cf_password: string, token: string\n) => async (dispatch: Dispatch<IAlertType | IAuthType>) => {\n\n  const msg = checkPassword(password, cf_password)\n  if(msg) return dispatch({ type: ALERT, payload: {errors: msg}})\n\n  try {\n    \n    dispatch({ type: ALERT, payload: {loading: true}})\n\n    const res = await patchAPI('reset_password', { password }, token)\n    \n    dispatch({ type: ALERT, payload: {loading: false}})\n    dispatch({ type: ALERT, payload: {success: res.data.msg}})\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg}})\n  }\n}\n\n\nexport const getOtherInfo = (id: string) => \nasync (dispatch: Dispatch<IAlertType | IGetOtherInfoType>) => {\n  try {\n    dispatch({ type: ALERT, payload: {loading: true}})\n\n    const res = await getAPI(`user/${id}`)\n    dispatch({\n      type: GET_OTHER_INFO,\n      payload: res.data\n    })\n\n    dispatch({ type: ALERT, payload: { }})\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg}})\n  }\n}","import React from 'react'\n\nconst Loading = () => {\n  return (\n    <div className=\"position-fixed w-100 h-100 text-center loading\"\n    style={{background: '#0007', color: \"white\", top: 0, left: 0, zIndex: 99}}>\n      <svg width=\"205\" height=\"250\" viewBox=\"0 0 40 50\">\n        <polygon stroke=\"#fff\" strokeWidth=\"1\" fill=\"none\"\n        points=\"20,1 40,40 1,40\" />\n        <text fill=\"#fff\" x=\"5\" y=\"47\">Loading</text>\n      </svg>\n    </div>\n  )\n}\n\nexport default Loading\n","import { useDispatch } from 'react-redux'\nimport { ALERT } from '../../redux/types/alertType'\n\ninterface IProps {\n  title: string\n  body: string | string[]\n  bgColor: string\n}\n\nconst Toast = ({title, body, bgColor}: IProps) => {\n\n  const dispatch = useDispatch()\n\n  const handleClose = () => {\n    dispatch({ type: ALERT, payload: {} })\n  }\n\n  return (\n    <div className={`toast show position-fixed text-light ${bgColor}`}\n    style={{top: '5px', right: '5px', zIndex: 50, minWidth: '200px'}}>\n\n      <div className={`toast-header text-light ${bgColor}`}>\n        <strong className=\"me-auto\">{title}</strong>\n        <button type=\"button\" className=\"btn-close\" \n        data-bs-dismiss=\"toast\" aria-label=\"Close\"\n        onClick={handleClose} />\n      </div>\n\n      <div className=\"toast-body\">\n        {\n          typeof(body) === 'string'\n          ? body\n          : <ul>\n            {\n              body.map((text, index) => (\n                <li key={index}>{text}</li>\n              ))\n            }\n          </ul>\n        }\n      </div>\n\n    </div>\n  )\n}\n\nexport default Toast\n","import { useSelector } from 'react-redux'\nimport { RootStore } from '../../utils/TypeScript'\n\nimport Loading from './Loading'\nimport Toast from './Toast'\n\nexport const Alert = () => {\n  const { alert } = useSelector((state: RootStore) => state)\n\n  return (\n    <div>\n      { alert.loading && <Loading /> }\n\n      { \n        alert.errors && \n        <Toast \n        title=\"Errors\"\n        body={alert.errors}\n        bgColor=\"bg-danger\"\n        />\n      }\n\n      { \n        alert.success && \n        <Toast \n        title=\"Success\"\n        body={alert.success}\n        bgColor=\"bg-success\"\n        />\n      }\n    </div>\n  )\n}\n\nexport const showErrMsg = (msg: string) => {\n  return <div className=\"errMsg\">{msg}</div>\n}\n\nexport const showSuccessMsg = (msg: string) => {\n  return <div className=\"successMsg\">{msg}</div>\n}","import React, { useState, useEffect } from 'react'\nimport { useHistory } from 'react-router-dom'\n\n\ninterface IProps {\n  total: number\n  callback: (num: number) => void\n}\n\nconst Pagination: React.FC<IProps> = ({total, callback}) => {\n\n  const [page, setPage] = useState(1)\n\n  const newArr = [...Array(total)].map((_,i) => i + 1)\n  const history = useHistory()\n\n  const isActive = (index: number) => {\n    if(index === page) return \"active\";\n    return \"\"\n  }\n\n  const handlePagination = (num: number) => {\n    history.push(`?page=${num}`)\n    callback(num)\n  }\n\n  useEffect(() => {\n    const num = history.location.search.slice(6) || 1\n    setPage(Number(num))\n  },[history.location.search])\n\n\n  return (\n    <nav aria-label=\"Page navigation example\" style={{cursor: 'pointer'}}>\n      <ul className=\"pagination\">\n        {\n          page > 1 && \n          <li className=\"page-item\" \n          onClick={() => handlePagination(page - 1)}>\n            <span className=\"page-link\" aria-label=\"Previous\">\n              <span aria-hidden=\"true\">&laquo;</span>\n            </span>\n          </li>\n        }\n        \n\n        {\n          newArr.map(num => (\n            <li key={num} className={`page-item ${isActive(num)}`}\n            onClick={() => handlePagination(num)}>\n              <span className=\"page-link\">{num}</span>\n            </li>\n          ))\n        }\n        \n        {\n          page < total &&\n          <li className=\"page-item\"\n          onClick={() => handlePagination(page + 1)}>\n            <span className=\"page-link\" aria-label=\"Next\">\n              <span aria-hidden=\"true\">&raquo;</span>\n            </span>\n          </li>\n        }\n      </ul>\n    </nav>\n  )\n}\n\nexport default Pagination\n","import React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Link, useParams } from 'react-router-dom'\nimport { deleteBlog } from '../../redux/actions/blogAction'\n\nimport { IBlog, IParams, IUser, RootStore } from '../../utils/TypeScript'\n\n\ninterface IProps {\n  blog: IBlog,\n  preview?:Boolean\n}\n\nconst CardHoriz: React.FC<IProps> = ({blog,preview}) => {\n  const { auth } = useSelector((state: RootStore) => state)\n  const { slug } = useParams<IParams>()\n  const dispatch = useDispatch()\n  const user = blog.user as IUser\n\n\n  const handleDelete = () => {\n    if(!auth.user || !auth.access_token) return;\n    if(slug !== auth.user._id && auth.user.role !=='admin') return dispatch({\n      type: 'ALERT',\n      payload: { errors: 'Invalid Authentication.' }\n    })\n\n    if(window.confirm(\"Do you want to delete this post?\")){\n      dispatch(deleteBlog(blog, auth.access_token))\n    }\n  }\n  return (\n    <div className=\"card mb-3 border border-secondary border-2\" style={{minWidth: \"260px\"}}>\n      <div className=\"row g-0 p-2\">\n        <div className=\"col-md-4\" style={{\n          minHeight: '150px', overflow: 'hidden', borderRadius:'3px',\n        }}>\n          {\n            blog.thumbnail && \n            <>\n              {\n                typeof(blog.thumbnail) === 'string'\n                ? <Link to={`/blog/${blog._id}`}>\n                    <img src={blog.thumbnail} \n                    className=\"w-100 h-100\" \n                    alt=\"thumbnail\" style={{objectFit: 'cover', maxHeight:'200px'}} />\n                </Link>\n                :<img src={URL.createObjectURL(blog.thumbnail)} \n                className=\"w-100 h-100\"\n                alt=\"thumbnail\" style={{objectFit: 'cover', maxHeight:'200px'}} />\n              }\n            </>\n          }\n          \n        </div>\n        \n        <div className=\"col-md-8\">\n          <div className=\"card-body h-75\">\n            <h5 className=\"card-title \">\n              <Link to={`/blog/${blog._id}`} style={{\n                textDecoration: 'none', textTransform: 'capitalize'\n              }}>\n                {blog.title}\n              </Link>\n            </h5>\n            <p className=\"card-text\">\n              { blog.description}\n            </p>\n          </div>\n          <div className=\"m-3\">\n              <p className=\"card-text d-flex justify-content-between\">\n                <small className=\"text-capitalize fw-bold\">\n                  by:{\n                    (!slug?auth.user?.name:(auth.user?._id === slug?auth.user.name:user.name))\n                    \n                  }\n                </small>\n\n                {\n                  ((slug === auth.user?._id || auth.user?.role ==='admin')&&!preview) &&\n                  <div style={{cursor: 'pointer'}}>\n                    \n                    <Link to={`/update_blog/${blog._id}`}>\n                      <i className=\"fas fa-edit\" title=\"edit\"/>\n                    </Link>\n\n                    <i className=\"fas fa-trash text-danger mx-3\" \n                      title=\"edit\" onClick={handleDelete}/>\n                  </div>\n                }\n\n                <small className=\"text-muted fw-bold\">\n                  { new Date(blog.createdAt).toLocaleString().split(',')[0] }\n                </small>\n              </p>\n            </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default CardHoriz\n","import { Dispatch } from 'redux'\nimport { ALERT, IAlertType } from '../types/alertType'\n\nimport { postAPI, getAPI, patchAPI, deleteAPI } from '../../utils/FetchData'\nimport { ICategory } from '../../utils/TypeScript'\n\nimport { \n  CREATE_CATEGORY, \n  ICategoryType, \n  GET_CATEGORIES,\n  UPDATE_CATEGORY,\n  DELETE_CATEGORY\n} from '../types/categoryType'\n\n\nexport const createCategory = (name: string, token: string) => \nasync(dispatch: Dispatch<IAlertType | ICategoryType>) => {\n  try {\n    dispatch({ type: ALERT, payload: { loading: true }})\n\n    const res = await postAPI('category', { name }, token)\n\n    dispatch({\n      type: CREATE_CATEGORY,\n      payload: res.data.newCategory\n    })\n\n    dispatch({ type: ALERT, payload: { loading: false }})\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg }})\n  }\n}\n\nexport const getCategories = () => \nasync(dispatch: Dispatch<IAlertType | ICategoryType>) => {\n  try {\n    dispatch({ type: ALERT, payload: { loading: true }})\n\n    const res = await getAPI('category')\n    \n    dispatch({\n      type: GET_CATEGORIES,\n      payload: res.data.categories\n    })\n\n    dispatch({ type: ALERT, payload: { loading: false }})\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg }})\n  }\n}\n\nexport const updateCategory = (data: ICategory, token: string) => \nasync(dispatch: Dispatch<IAlertType | ICategoryType>) => {\n  try {\n\n    dispatch({ type: UPDATE_CATEGORY, payload: data })\n    await patchAPI(`category/${data._id}`, { name: data.name }, token)\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg }})\n  }\n}\n\nexport const deleteCategory = (id: string, token: string) => \nasync(dispatch: Dispatch<IAlertType | ICategoryType>) => {\n  try {\n    \n    dispatch({ type: DELETE_CATEGORY, payload: id })\n    await deleteAPI(`category/${id}`, token)\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg }})\n  }\n}","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { RootStore, IBlog, InputChange } from '../../utils/TypeScript'\n\n\ninterface IProps {\n  blog: IBlog,\n  setBlog: (blog: IBlog) => void\n}\n\nconst CreateForm: React.FC<IProps> = ({blog, setBlog}) => {\n  const { categories } = useSelector((state: RootStore) => state)\n\n  const handleChangeInput = (e: InputChange) => {\n    const { value, name } = e.target\n    setBlog({...blog, [name]:value})\n  }\n\n  const handleChangeThumbnail = (e: InputChange) => {\n    const target = e.target as HTMLInputElement\n    const files = target.files\n    if(files){\n      const file = files[0]\n      setBlog({...blog, thumbnail: file})\n    }\n  }\n\n  return (\n    <form>\n      <div className=\"form-group position-relative\">\n        <input type=\"text\" className=\"form-control border-2 border-secondary\"\n        value={blog.title} name=\"title\" \n        onChange={handleChangeInput} />\n\n        <small className=\"text-muted position-absolute\"\n        style={{ bottom: 0, right: '3px', opacity: '0.3'}}>\n          {blog.title.length}/50\n        </small>\n      </div>\n\n      <div className=\"form-group my-3\">\n        <input type=\"file\" className=\"form-control border-2 border-secondary\"\n        accept=\"image/*\" onChange={handleChangeThumbnail} />\n      </div>\n\n      <div className=\"form-group position-relative\">\n        <textarea className=\"form-control border-2 border-secondary\" rows={4}\n        value={blog.description} style={{resize: 'none'}}\n        name=\"description\" onChange={handleChangeInput} />\n\n        <small className=\"text-muted position-absolute\"\n        style={{ bottom: 0, right: '3px', opacity: '0.3'}}>\n          {blog.description.length}/200\n        </small>\n      </div>\n\n      <div className=\"form-group my-3\">\n        <select className=\"form-control border-2 border-secondary text-capitalize\"\n        value={blog.category} name=\"category\"\n        onChange={handleChangeInput}>\n          <option value=\"\">Choose a category</option>\n          {\n            categories.map(category => (\n              <option key={category._id} value={category._id}>\n                {category.name}\n              </option>\n            ))\n          }\n        </select>\n      </div>\n    </form>\n  )\n}\n\nexport default CreateForm\n","import React, { useEffect, useRef, useCallback } from 'react'\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\n\nimport { useDispatch } from 'react-redux'\n\nimport { checkImage, imageUpload } from '../../utils/ImageUpload'\nimport { ALERT } from '../../redux/types/alertType'\n\ninterface IProps {\n  setBody: (value: string) => void\n  body:string\n}\n\nconst Quill: React.FC<IProps> = ({setBody,body}) => {\n  const dispatch = useDispatch()\n  const quillRef = useRef<ReactQuill>(null)\n\n  const modules = { toolbar: { container }}\n\n  // Custom image\n  const handleChangeImage = useCallback(() => {\n    const input = document.createElement('input')\n    input.type = \"file\"\n    input.accept = \"image/*\"\n    input.click()\n\n    input.onchange = async () => {\n      const files = input.files\n      if(!files) return dispatch({\n        type: ALERT, payload: { errors: 'File does not exist.'}\n      });\n\n      const file = files[0]\n      const check = checkImage(file)\n      if(check) return dispatch({ type: ALERT, payload: { errors: check } });\n      \n      dispatch({ type: ALERT, payload: { loading: true } })\n      const photo = await imageUpload(file)\n\n      const quill = quillRef.current;\n      const range = quill?.getEditor().getSelection()?.index\n      if(range !== undefined){\n        quill?.getEditor().insertEmbed(range, 'image', `${photo.url}`)\n      }\n\n      dispatch({ type: ALERT, payload: { loading: false } })\n    }\n  },[dispatch])\n\n\n  useEffect(() => {\n    const quill = quillRef.current;\n    if(!quill) return;\n\n    let toolbar = quill.getEditor().getModule('toolbar')\n    toolbar.addHandler('image', handleChangeImage)\n  },[handleChangeImage])\n\n  return (\n    <div>\n      <ReactQuill\n        theme=\"snow\"\n        modules={modules}\n        placeholder=\"Write somethings...\"\n        onChange={e => setBody(e)}\n        value={body}\n        ref={quillRef} \n      />\n    </div>\n  )\n}\n\nlet container = [\n  [{ 'font': [] }],\n  [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\n  [{ 'size': ['small', false, 'large', 'huge'] }],  // custom dropdown\n\n  ['bold', 'italic', 'underline', 'strike'],        // toggled buttons\n  ['blockquote', 'code-block'],\n  [{ 'color': [] }, { 'background': [] }],          // dropdown with defaults from theme\n  [{ 'script': 'sub'}, { 'script': 'super' }],      // superscript/subscript\n\n  [{ 'list': 'ordered'}, { 'list': 'bullet' }],\n  [{ 'indent': '-1'}, { 'indent': '+1' }],          // outdent/indent\n  [{ 'direction': 'rtl' }],                         // text direction\n  [{ 'align': [] }],\n\n  ['clean', 'link', 'image','video']\n]\n\nexport default Quill\n","import React, { useState, useRef, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport { RootStore, IBlog, IUser } from '../utils/TypeScript'\nimport { validCreateBlog, shallowEqual } from '../utils/Valid'\nimport { getAPI } from '../utils/FetchData'\n\nimport NotFound from '../components/global/NotFound'\nimport CreateForm from '../components/cards/CreateForm'\nimport CardHoriz from '../components/cards/CardHoriz'\n\nimport ReactQuill from '../components/editor/ReactQuill'\n\nimport { ALERT } from '../redux/types/alertType'\n\nimport { createBlog, updateBlog } from '../redux/actions/blogAction'\nimport { Redirect, useHistory } from 'react-router-dom'\n\ninterface IProps {\n  id?: string\n}\nconst CreateBlog: React.FC<IProps> = ({id}) => {\n  const initState = {\n    user: '',\n    title: '',\n    content: '',\n    description: '',\n    thumbnail: '',\n    category: '',\n    createdAt: new Date().toISOString()\n  }\n\n  const [blog, setBlog] = useState<IBlog>(initState)\n  const [body, setBody] = useState('')\n  const [preview,setPreview] = useState(true)\n\n  const divRef = useRef<HTMLDivElement>(null)\n  const [text, setText] = useState('')\n\n  const { auth } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  const [oldData, setOldData] = useState<IBlog>(initState)\n  const [done,setDone] = useState(false)\n\n  const history = useHistory()\n\n  useEffect(() => {\n    if(done) {\n      history.push('/')\n    }\n  },[done, history])\n  useEffect(() => {\n    if(!id) return;\n\n    getAPI(`blog/${id}`)\n    .then(res => {\n      setBlog(res.data)\n      setBody(res.data.content)\n      setOldData(res.data)\n    })\n    .catch(err => console.log(err))\n\n    const initData = {\n      user: '',\n      title: '',\n      content: '',\n      description: '',\n      thumbnail: '',\n      category: '',\n      createdAt: new Date().toISOString()\n    }\n\n    return () => {\n      setBlog(initData)\n      setBody('')\n      setOldData(initData)\n    }\n  },[id])\n\n  useEffect(() => {\n    const div = divRef.current;\n    if(!div) return;\n\n    const text = (div?.innerText as string)\n    setText(text)\n  },[body])\n\n  const handleSubmit = async() => {\n    if(!auth.access_token) return;\n\n    const check = validCreateBlog({...blog, content: text})\n    if(check.errLength !== 0){\n      return dispatch({ type: ALERT, payload: { errors: check.errMsg } })\n    }\n\n    let newData = {...blog, content: body}\n\n    if(id){\n      if((blog.user as IUser)._id !== auth.user?._id)\n        return dispatch({\n          type: ALERT,\n          payload: { errors: 'Invalid Authentication.' }\n        })\n\n      const result = shallowEqual(oldData, newData)\n      if(result) return dispatch({\n        type: ALERT,\n        payload: { errors: 'The data does not change.' }\n      })\n\n      dispatch(updateBlog(newData, auth.access_token))\n      \n    }else{\n      dispatch(createBlog(newData, auth.access_token))\n      \n    }\n    setDone(true)\n\n  }\n\n\n  if(!auth.access_token) return <NotFound />;\n  return (\n    <div className=\"my-4 create_blog\">\n\n      <div className=\"row mt-4\">\n        <div className=\"col-md-6\">\n          <h5>Create</h5>\n          <CreateForm blog={blog} setBlog={setBlog} />\n        </div>\n\n        <div className=\"col-md-6\">\n          <h5>Preview</h5>\n          <CardHoriz  blog={blog} preview={preview} />\n        </div>\n      </div>  \n\n      <ReactQuill setBody={setBody} body={body} />\n\n      <div ref={divRef} dangerouslySetInnerHTML={{\n        __html: body\n      }} style={{display: 'none'}} />\n\n      <small>{text.length}</small>\n      \n      <button className=\"btn btn-dark mt-3 d-block mx-auto\"\n      onClick={handleSubmit}>\n        { id ? 'Update Post' : 'Create Post' }\n      </button>\n    </div>\n  )\n}\n\nexport default CreateBlog","import React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Link, useParams} from 'react-router-dom'\nimport { deleteBlog } from '../../redux/actions/blogAction'\n\nimport { IBlog, IParams, IUser, RootStore } from '../../utils/TypeScript'\n\ninterface IProps {\n  blog: IBlog\n}\n\nconst CardVert: React.FC<IProps> = ({blog}) => {\n  const { auth } = useSelector((state: RootStore) => state)\n  const { slug } = useParams<IParams>()\n  const dispatch = useDispatch()\n  const user = blog.user as IUser\n  console.log(auth.user);\n\n\n  const handleDelete = () => {\n    if(!auth.user || !auth.access_token) return;\n\n    if(slug !== auth.user._id && auth.user.role !=='admin') return dispatch({\n      type: 'ALERT',\n      payload: { errors: 'Invalid Authentication.' }\n    })\n\n    if(window.confirm(\"Do you want to delete this post?\")){\n      dispatch(deleteBlog(blog, auth.access_token))\n    }\n  }\n  return (\n    <div className=\"card border border-secondary border-2 mb-5\" >\n      {\n        typeof(blog.thumbnail) === 'string' &&\n        <img src={blog.thumbnail} className=\"card-img-top p-2\" alt=\"...\"\n        style={{height: '180px', objectFit: 'cover', borderRadius:'11px'}} />\n      }\n\n      <div className=\"card-body\">\n        <h5 className=\"card-title \">\n          <Link to={`/blog/${blog._id}`} style={{\n            textDecoration: 'none', textTransform: 'capitalize'\n          }}>\n            {(blog.title.length>50)?(blog.title.slice(0,50) + '...'):(blog.title)}\n          </Link>\n        </h5>\n        <p className=\"card-text\">\n          { (blog.description.length>100)?(blog.description.slice(0,100) + '...'):(blog.description) }\n        </p>\n      </div>\n      <div className=\"d-flex justify-content-center\">\n      {\n        (user._id === auth.user?._id || auth.user?.role ==='admin') &&\n          <div style={{cursor: 'pointer'}}>\n            <Link to={`/update_blog/${blog._id}`}>\n              <i className=\"fas fa-edit\" title=\"edit\" />\n            </Link>\n\n            <i className=\"fas fa-trash text-danger mx-3\" \n              title=\"edit\" onClick={handleDelete} />\n            </div>\n      } \n      </div>\n      <div className=\"m-3\">\n        <p className=\"card-text d-flex justify-content-between\">\n          <small className=\"text-muted text-capitalize fw-bold\">\n            {\n              typeof(blog.user) !== 'string' &&\n              <Link to={`/profile/${blog.user._id}`} style={{\n                textDecoration: 'none', textTransform: 'capitalize'\n              }}>\n                By: {blog.user.name}\n              </Link>\n            }\n          </small>\n\n          <small className=\"text-muted fw-bold\">\n            { new Date(blog.createdAt).toLocaleString().split(',')[0] }\n          </small>\n        </p>\n      </div>\n    </div>\n  )\n}\n\nexport default CardVert\n","import { IUser } from '../../utils/TypeScript'\n\nexport const GET_OTHER_INFO = \"GET_OTHER_INFO\"\n\n\nexport interface IGetOtherInfoType {\n  type: typeof GET_OTHER_INFO,\n  payload: IUser\n}","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { RootStore } from '../../utils/TypeScript'\n\nconst SideBar = () => {\nconst { homeBlogs } = useSelector((state: RootStore) => state)\n\n  return (\n        <div className=\"sidebar position-relative\">\n         <div className=\"d-flex justify-content-center border-left border-muted border-2\">\n            <div className=\"position-fixed\">\n              <h3 className=\"text-center mt-4 text-dark\">Category</h3>\n              <hr className=\"border border-dark border-2\"></hr>\n              <ul className=\"mt-3\">\n                  {\n                    homeBlogs.map(homeBlog =>(\n                        <li className=\"d-flex justify-content-center\">\n                            <Link to={ `/blogs/${(homeBlog.name).toLowerCase()}` }>\n                                { homeBlog.name }\n                            </Link>\n                        </li>\n                    ))\n                }\n              </ul>\n          </div>\n         </div>\n        </div>\n        // {/* <div classNameName=\"sidebar-content mt-5\" style={{ margin:'0 auto'}} >\n        //     <h3 classNameName=\"text-center\">Categories</h3>\n        //     <ul>\n        //     {\n        //         homeBlogs.map(homeBlog =>(\n        //             <li>\n        //                 <Link to={ `/blogs/${(homeBlog.name).toLowerCase()}` }>\n        //                     { homeBlog.name } <small>({ homeBlog.count })</small>\n        //                 </Link>\n        //             </li>\n        //         ))\n        //     }\n        //     </ul>\n        // </div> */}\n\n  )\n}\n\nexport default SideBar","import React, { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nimport { RootStore } from '../utils/TypeScript'\n\nimport CardVert from '../components/cards/CardVert'\nimport Loading from '../components/global/Loading'\nimport SideBar from '../components/sidebar/SideBar'\n\nconst Home = () => {\n  const { homeBlogs } = useSelector((state: RootStore) => state)\n  console.log(homeBlogs)\n\n  if(homeBlogs.length === 0) return <Loading />;\n  return (\n    <div className='row my-3'>\n      <div className=\"home_page col-md-9\">\n      {\n        homeBlogs.map(homeBlog => (\n          <div key={homeBlog._id}>\n            {\n              homeBlog.count > 0 &&\n              <>\n                <h3 className='text-info'>\n                  <Link to={ `/blogs/${(homeBlog.name).toLowerCase()}` }>\n                    { homeBlog.name } <small>({ homeBlog.count })</small>\n                  </Link>\n                </h3>\n                <hr className=\"mt-1 mb-4 border border-2 border-dark \" />\n\n                <div className=\"home_blogs\">\n                  {\n                    homeBlog.blogs.map(blog => (\n                      <CardVert key={blog._id} blog={blog} />\n                    ))\n                  }\n                </div>\n              </>\n            }\n             \n\n            {\n              homeBlog.count > 3 && \n              <Link className=\"text-end d-block mt-2 mb-3 \n              text-decoration-none \"\n              to={`/blogs/${homeBlog.name}`}>\n                <button className=\"btn btn-outline-dark border border-dark border-2\">\n                  Read more\n                </button>\n\n              </Link>\n            }\n          </div>\n        ))\n      }\n      </div>\n      <div className='outside_sidebar col-md-3 position-relative'>\n          <SideBar/>\n      </div>\n    </div>\n  )\n}\n\nexport default Home\n\n\n","import React, { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\n\nimport { IParams } from '../../utils/TypeScript'\nimport { postAPI } from '../../utils/FetchData'\nimport { showErrMsg, showSuccessMsg } from '../../components/alert/Alert'\n\nconst Active = () => {\n  const { slug }: IParams = useParams()\n  const [err, setErr] = useState('')\n  const [success, setSuccess] = useState('')\n\n  useEffect(() => {\n    if(slug){\n      postAPI('active', { active_token: slug })\n      .then(res => setSuccess(res.data.msg))\n      .catch(err => setErr(err.response.data.msg))\n    }\n  },[slug])\n\n  return (\n    <div>\n      { err && showErrMsg(err) }\n      { success && showSuccessMsg(success) }\n    </div>\n  )\n}\n\nexport default Active\n","import axios from 'axios'\n\n\nexport const postAPI = async (url: string, post: object, token?:string) => {\n  const res = await axios.post(`/api/${url}`, post, {\n    headers: { Authorization: token }\n  })\n\n  return res;\n}\n\n\nexport const getAPI = async (url: string, token?:string) => {\n  const res = await axios.get(`/api/${url}`, {\n    headers: { Authorization: token }\n  })\n\n  return res;\n}\n\nexport const patchAPI = async (url: string, post: object, token?:string) => {\n  const res = await axios.patch(`/api/${url}`, post, {\n    headers: { Authorization: token }\n  })\n\n  return res;\n}\n\nexport const putAPI = async (url: string, post: object, token?:string) => {\n  const res = await axios.put(`/api/${url}`, post, {\n    headers: { Authorization: token }\n  })\n\n  return res;\n}\n\nexport const deleteAPI = async (url: string, token?:string) => {\n  const res = await axios.delete(`/api/${url}`, {\n    headers: { Authorization: token }\n  })\n\n  return res;\n}\n\n"],"sourceRoot":""}